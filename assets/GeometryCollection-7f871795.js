import{c5 as a,_ as c,Z as f,W as p,bF as u,c6 as y,aw as G,H as _}from"./Layer-763025a3.js";class h extends a{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(c),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,i=this.geometries_.length;e<i;++e)this.changeEventsKeys_.push(f(this.geometries_[e],p.CHANGE,this.changed,this))}clone(){const e=new h(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,i,t,s){if(s<u(this.getExtent(),e,i))return s;const r=this.geometries_;for(let o=0,n=r.length;o<n;++o)s=r[o].closestPointXY(e,i,t,s);return s}containsXY(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)if(t[s].containsXY(e,i))return!0;return!1}computeExtent(e){y(e);const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)G(e,i[t].getExtent());return e}getGeometries(){return m(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)i[t].getType()===this.getType()?e=e.concat(i[t].getGeometriesArrayRecursive()):e.push(i[t]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const i=[],t=this.geometries_;let s=!1;for(let r=0,o=t.length;r<o;++r){const n=t[r],g=n.getSimplifiedGeometry(e);i.push(g),g!==n&&(s=!0)}if(s){const r=new h(null);return r.setGeometriesArray(i),r}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)if(i[t].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)t[s].rotate(e,i);this.changed()}scale(e,i,t){t||(t=_(this.getExtent()));const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)s[r].scale(e,i,t);this.changed()}setGeometries(e){this.setGeometriesArray(m(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)i[t].applyTransform(e);this.changed()}translate(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)t[s].translate(e,i);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function m(l){const e=[];for(let i=0,t=l.length;i<t;++i)e.push(l[i].clone());return e}const E=h;export{E as G};

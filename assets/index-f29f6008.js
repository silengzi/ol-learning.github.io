import{V as X,M as U,cn as Z}from"./Layer-d95863ce.js";import{O as P}from"./OSM-4c2d3aa4.js";import{T as H}from"./Tile-26a716d9.js";import{_ as q,i as W,o as J,c as K,b as T,t as Q,g as Y,F as $,j as tt,p as et,k as at}from"./index-ceda08fa.js";import"./XYZ-73edd6ba.js";import"./TileImage-f7288716.js";import"./TileProperty-0dbbd060.js";import"./UrlTile-563a27f8.js";import"./BaseTile-0f70055b.js";import"./TileLayer-121ec467.js";import"./Layer-4850cb8d.js";const nt="Device Orientation",it=`
  <div id="map" class="map"></div>
  <p>
    <div>α : <code id="alpha"></code></div>
    <div>β : <code id="beta"></code></div>
    <div>γ : <code id="gamma"></code></div>
  </p>

  <script src="https://cdn.jsdelivr.net/npm/gyronorm@2.0.6/dist/gyronorm.complete.min.js"><\/script>
`,ot=`
  .map {
    width: 100%;
    height: 400px;
  }
`,rt=`
  import Map from 'ol/Map.js';
  import OSM from 'ol/source/OSM.js';
  import TileLayer from 'ol/layer/Tile.js';
  import View from 'ol/View.js';
  import {toRadians} from 'ol/math.js';

  const view = new View({
    center: [0, 0],
    zoom: 2,
  });
  const map = new Map({
    layers: [
      new TileLayer({
        source: new OSM(),
      }),
    ],
    target: 'map',
    view: view,
  });

  function el(id) {
    return document.getElementById(id);
  }

  const gn = new GyroNorm();

  gn.init().then(function () {
    gn.start(function (event) {
      const center = view.getCenter();
      const resolution = view.getResolution();
      const alpha = toRadians(event.do.alpha);
      const beta = toRadians(event.do.beta);
      const gamma = toRadians(event.do.gamma);

      el('alpha').innerText = alpha + ' [rad]';
      el('beta').innerText = beta + ' [rad]';
      el('gamma').innerText = gamma + ' [rad]';

      center[0] -= resolution * gamma * 25;
      center[1] += resolution * beta * 25;

      view.setCenter(center);
    });
  });
`,st=`
  {
    "name": "device-orientation",
    "dependencies": {
      "ol": "8.2.0"
    },
    "devDependencies": {
      "vite": "^3.2.3"
    },
    "scripts": {
      "start": "vite",
      "build": "vite build"
    }
  }
`;/*! Full Tilt v0.5.3 / http://github.com/richtr/Full-Tilt */(function(m){function R(t){return t=+t,t===0||isNaN(t)?t:t>0?1:-1}function w(t){var e=new Promise(function(r,a){var i=function(n){setTimeout(function(){t&&t.data?r():n>=20?a():i(++n)},50)};i(0)});return e}function L(){b=C?(m.screen.orientation.angle||0)*M:(m.orientation||0)*M}function O(t){s.orientation.data=t;for(var e in s.orientation.callbacks)s.orientation.callbacks[e].call(this)}function z(t){s.motion.data=t;for(var e in s.motion.callbacks)s.motion.callbacks[e].call(this)}if(m.FULLTILT===void 0||m.FULLTILT===null){var g=Math.PI,E=g/2,G=2*g,M=g/180,N=180/g,s={orientation:{active:!1,callbacks:[],data:void 0},motion:{active:!1,callbacks:[],data:void 0}},S=!1,C=!!(m.screen&&m.screen.orientation&&m.screen.orientation.angle!==void 0&&m.screen.orientation.angle!==null),b=(C?m.screen.orientation.angle:m.orientation||0)*M,I=E,B=g,j=G/3,F=-E,c={};c.version="0.5.3",c.getDeviceOrientation=function(t){var e=new Promise(function(r,a){var i=new c.DeviceOrientation(t);i.start();var n=new w(s.orientation);n.then(function(){i._alphaAvailable=s.orientation.data.alpha&&s.orientation.data.alpha!==null,i._betaAvailable=s.orientation.data.beta&&s.orientation.data.beta!==null,i._gammaAvailable=s.orientation.data.gamma&&s.orientation.data.gamma!==null,r(i)}).catch(function(){i.stop(),a("DeviceOrientation is not supported")})});return e},c.getDeviceMotion=function(t){var e=new Promise(function(r,a){var i=new c.DeviceMotion(t);i.start();var n=new w(s.motion);n.then(function(){i._accelerationXAvailable=s.motion.data.acceleration&&s.motion.data.acceleration.x,i._accelerationYAvailable=s.motion.data.acceleration&&s.motion.data.acceleration.y,i._accelerationZAvailable=s.motion.data.acceleration&&s.motion.data.acceleration.z,i._accelerationIncludingGravityXAvailable=s.motion.data.accelerationIncludingGravity&&s.motion.data.accelerationIncludingGravity.x,i._accelerationIncludingGravityYAvailable=s.motion.data.accelerationIncludingGravity&&s.motion.data.accelerationIncludingGravity.y,i._accelerationIncludingGravityZAvailable=s.motion.data.accelerationIncludingGravity&&s.motion.data.accelerationIncludingGravity.z,i._rotationRateAlphaAvailable=s.motion.data.rotationRate&&s.motion.data.rotationRate.alpha,i._rotationRateBetaAvailable=s.motion.data.rotationRate&&s.motion.data.rotationRate.beta,i._rotationRateGammaAvailable=s.motion.data.rotationRate&&s.motion.data.rotationRate.gamma,r(i)}).catch(function(){i.stop(),a("DeviceMotion is not supported")})});return e},c.Quaternion=function(t,e,r,a){var i;this.set=function(n,o,u,d){this.x=n||0,this.y=o||0,this.z=u||0,this.w=d||1},this.copy=function(n){this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w},this.setFromEuler=function(){var n,o,u,d,p,h,v,f,y,l,_,A;return function(x){return x=x||{},u=(x.alpha||0)*M,n=(x.beta||0)*M,o=(x.gamma||0)*M,h=u/2,d=n/2,p=o/2,v=Math.cos(d),f=Math.cos(p),y=Math.cos(h),l=Math.sin(d),_=Math.sin(p),A=Math.sin(h),this.set(l*f*y-v*_*A,v*_*y+l*f*A,v*f*A+l*_*y,v*f*y-l*_*A),this.normalize(),this}}(),this.setFromRotationMatrix=function(){var n;return function(o){return n=o.elements,this.set(.5*Math.sqrt(1+n[0]-n[4]-n[8])*R(n[7]-n[5]),.5*Math.sqrt(1-n[0]+n[4]-n[8])*R(n[2]-n[6]),.5*Math.sqrt(1-n[0]-n[4]+n[8])*R(n[3]-n[1]),.5*Math.sqrt(1+n[0]+n[4]+n[8])),this}}(),this.multiply=function(n){return i=c.Quaternion.prototype.multiplyQuaternions(this,n),this.copy(i),this},this.rotateX=function(n){return i=c.Quaternion.prototype.rotateByAxisAngle(this,[1,0,0],n),this.copy(i),this},this.rotateY=function(n){return i=c.Quaternion.prototype.rotateByAxisAngle(this,[0,1,0],n),this.copy(i),this},this.rotateZ=function(n){return i=c.Quaternion.prototype.rotateByAxisAngle(this,[0,0,1],n),this.copy(i),this},this.normalize=function(){return c.Quaternion.prototype.normalize(this)},this.set(t,e,r,a)},c.Quaternion.prototype={constructor:c.Quaternion,multiplyQuaternions:function(){var t=new c.Quaternion;return function(e,r){var a=e.x,i=e.y,n=e.z,o=e.w,u=r.x,d=r.y,p=r.z,h=r.w;return t.set(a*h+o*u+i*p-n*d,i*h+o*d+n*u-a*p,n*h+o*p+a*d-i*u,o*h-a*u-i*d-n*p),t}}(),normalize:function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w);return e===0?(t.x=0,t.y=0,t.z=0,t.w=1):(e=1/e,t.x*=e,t.y*=e,t.z*=e,t.w*=e),t},rotateByAxisAngle:function(){var t,e,r=new c.Quaternion,a=new c.Quaternion;return function(i,n,o){return t=(o||0)/2,e=Math.sin(t),a.set((n[0]||0)*e,(n[1]||0)*e,(n[2]||0)*e,Math.cos(t)),r=c.Quaternion.prototype.multiplyQuaternions(i,a),c.Quaternion.prototype.normalize(r)}}()},c.RotationMatrix=function(t,e,r,a,i,n,o,u,d){var p;this.elements=new Float32Array(9),this.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},this.set=function(h,v,f,y,l,_,A,x,D){this.elements[0]=h||1,this.elements[1]=v||0,this.elements[2]=f||0,this.elements[3]=y||0,this.elements[4]=l||1,this.elements[5]=_||0,this.elements[6]=A||0,this.elements[7]=x||0,this.elements[8]=D||1},this.copy=function(h){this.elements[0]=h.elements[0],this.elements[1]=h.elements[1],this.elements[2]=h.elements[2],this.elements[3]=h.elements[3],this.elements[4]=h.elements[4],this.elements[5]=h.elements[5],this.elements[6]=h.elements[6],this.elements[7]=h.elements[7],this.elements[8]=h.elements[8]},this.setFromEuler=function(){var h,v,f,y,l,_,A,x,D;return function(k){return k=k||{},f=(k.alpha||0)*M,h=(k.beta||0)*M,v=(k.gamma||0)*M,y=Math.cos(h),l=Math.cos(v),_=Math.cos(f),A=Math.sin(h),x=Math.sin(v),D=Math.sin(f),this.set(_*l-D*A*x,-y*D,l*D*A+_*x,l*D+_*A*x,_*y,D*x-_*l*A,-y*x,A,y*l),this.normalize(),this}}(),this.setFromQuaternion=function(){var h,v,f,y;return function(l){return h=l.w*l.w,v=l.x*l.x,f=l.y*l.y,y=l.z*l.z,this.set(h+v-f-y,2*(l.x*l.y-l.w*l.z),2*(l.x*l.z+l.w*l.y),2*(l.x*l.y+l.w*l.z),h-v+f-y,2*(l.y*l.z-l.w*l.x),2*(l.x*l.z-l.w*l.y),2*(l.y*l.z+l.w*l.x),h-v-f+y),this}}(),this.multiply=function(h){return p=c.RotationMatrix.prototype.multiplyMatrices(this,h),this.copy(p),this},this.rotateX=function(h){return p=c.RotationMatrix.prototype.rotateByAxisAngle(this,[1,0,0],h),this.copy(p),this},this.rotateY=function(h){return p=c.RotationMatrix.prototype.rotateByAxisAngle(this,[0,1,0],h),this.copy(p),this},this.rotateZ=function(h){return p=c.RotationMatrix.prototype.rotateByAxisAngle(this,[0,0,1],h),this.copy(p),this},this.normalize=function(){return c.RotationMatrix.prototype.normalize(this)},this.set(t,e,r,a,i,n,o,u,d)},c.RotationMatrix.prototype={constructor:c.RotationMatrix,multiplyMatrices:function(){var t,e,r=new c.RotationMatrix;return function(a,i){return t=a.elements,e=i.elements,r.set(t[0]*e[0]+t[1]*e[3]+t[2]*e[6],t[0]*e[1]+t[1]*e[4]+t[2]*e[7],t[0]*e[2]+t[1]*e[5]+t[2]*e[8],t[3]*e[0]+t[4]*e[3]+t[5]*e[6],t[3]*e[1]+t[4]*e[4]+t[5]*e[7],t[3]*e[2]+t[4]*e[5]+t[5]*e[8],t[6]*e[0]+t[7]*e[3]+t[8]*e[6],t[6]*e[1]+t[7]*e[4]+t[8]*e[7],t[6]*e[2]+t[7]*e[5]+t[8]*e[8]),r}}(),normalize:function(t){var e=t.elements,r=e[0]*e[4]*e[8]-e[0]*e[5]*e[7]-e[1]*e[3]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6];return e[0]/=r,e[1]/=r,e[2]/=r,e[3]/=r,e[4]/=r,e[5]/=r,e[6]/=r,e[7]/=r,e[8]/=r,t.elements=e,t},rotateByAxisAngle:function(){var t,e,r=new c.RotationMatrix,a=new c.RotationMatrix,i=!1;return function(n,o,u){return a.identity(),i=!1,t=Math.sin(u),e=Math.cos(u),o[0]===1&&o[1]===0&&o[2]===0?(i=!0,a.elements[4]=e,a.elements[5]=-t,a.elements[7]=t,a.elements[8]=e):o[1]===1&&o[0]===0&&o[2]===0?(i=!0,a.elements[0]=e,a.elements[2]=t,a.elements[6]=-t,a.elements[8]=e):o[2]===1&&o[0]===0&&o[1]===0&&(i=!0,a.elements[0]=e,a.elements[1]=-t,a.elements[3]=t,a.elements[4]=e),i?(r=c.RotationMatrix.prototype.multiplyMatrices(n,a),r=c.RotationMatrix.prototype.normalize(r)):r=n,r}}()},c.Euler=function(t,e,r){this.set=function(a,i,n){this.alpha=a||0,this.beta=i||0,this.gamma=n||0},this.copy=function(a){this.alpha=a.alpha,this.beta=a.beta,this.gamma=a.gamma},this.setFromRotationMatrix=function(){var a,i,n,o;return function(u){a=u.elements,a[8]>0?(i=Math.atan2(-a[1],a[4]),n=Math.asin(a[7]),o=Math.atan2(-a[6],a[8])):a[8]<0?(i=Math.atan2(a[1],-a[4]),n=-Math.asin(a[7]),n+=n>=0?-g:g,o=Math.atan2(a[6],-a[8])):a[6]>0?(i=Math.atan2(-a[1],a[4]),n=Math.asin(a[7]),o=-E):a[6]<0?(i=Math.atan2(a[1],-a[4]),n=-Math.asin(a[7]),n+=n>=0?-g:g,o=-E):(i=Math.atan2(a[3],a[0]),n=a[7]>0?E:-E,o=0),0>i&&(i+=G),i*=N,n*=N,o*=N,this.set(i,n,o)}}(),this.setFromQuaternion=function(){var a,i,n;return function(o){var u=o.w*o.w,d=o.x*o.x,p=o.y*o.y,h=o.z*o.z,v=u+d+p+h,f=o.w*o.x+o.y*o.z,y=1e-6;if(f>(.5-y)*v)a=2*Math.atan2(o.y,o.w),i=E,n=0;else if((-.5+y)*v>f)a=-2*Math.atan2(o.y,o.w),i=-E,n=0;else{var l=u-d+p-h,_=2*(o.w*o.z-o.x*o.y),A=u-d-p+h,x=2*(o.w*o.y-o.x*o.z);A>0?(a=Math.atan2(_,l),i=Math.asin(2*f/v),n=Math.atan2(x,A)):(a=Math.atan2(-_,-l),i=-Math.asin(2*f/v),i+=0>i?g:-g,n=Math.atan2(-x,-A))}0>a&&(a+=G),a*=N,i*=N,n*=N,this.set(a,i,n)}}(),this.rotateX=function(a){return c.Euler.prototype.rotateByAxisAngle(this,[1,0,0],a),this},this.rotateY=function(a){return c.Euler.prototype.rotateByAxisAngle(this,[0,1,0],a),this},this.rotateZ=function(a){return c.Euler.prototype.rotateByAxisAngle(this,[0,0,1],a),this},this.set(t,e,r)},c.Euler.prototype={constructor:c.Euler,rotateByAxisAngle:function(){var t=new c.RotationMatrix;return function(e,r,a){return t.setFromEuler(e),t=c.RotationMatrix.prototype.rotateByAxisAngle(t,r,a),e.setFromRotationMatrix(t),e}}()},c.DeviceOrientation=function(t){this.options=t||{};var e=0,r=200,a=0,i=10;if(this.alphaOffsetScreen=0,this.alphaOffsetDevice=void 0,this.options.type==="game"){var n=(function(u){return u.alpha!==null&&(this.alphaOffsetDevice=new c.Euler(u.alpha,0,0),this.alphaOffsetDevice.rotateZ(-b),++a>=i)?void m.removeEventListener("deviceorientation",n,!1):void(++e>=r&&m.removeEventListener("deviceorientation",n,!1))}).bind(this);m.addEventListener("deviceorientation",n,!1)}else if(this.options.type==="world"){var o=(function(u){return u.absolute!==!0&&u.webkitCompassAccuracy!==void 0&&u.webkitCompassAccuracy!==null&&+u.webkitCompassAccuracy>=0&&+u.webkitCompassAccuracy<50&&(this.alphaOffsetDevice=new c.Euler(u.webkitCompassHeading,0,0),this.alphaOffsetDevice.rotateZ(b),this.alphaOffsetScreen=b,++a>=i)?void m.removeEventListener("deviceorientation",o,!1):void(++e>=r&&m.removeEventListener("deviceorientation",o,!1))}).bind(this);m.addEventListener("deviceorientation",o,!1)}},c.DeviceOrientation.prototype={constructor:c.DeviceOrientation,start:function(t){t&&Object.prototype.toString.call(t)=="[object Function]"&&s.orientation.callbacks.push(t),S||(C?m.screen.orientation.addEventListener("change",L,!1):m.addEventListener("orientationchange",L,!1)),s.orientation.active||(m.addEventListener("deviceorientation",O,!1),s.orientation.active=!0)},stop:function(){s.orientation.active&&(m.removeEventListener("deviceorientation",O,!1),s.orientation.active=!1)},listen:function(t){this.start(t)},getFixedFrameQuaternion:function(){var t=new c.Euler,e=new c.RotationMatrix,r=new c.Quaternion;return function(){var a=s.orientation.data||{alpha:0,beta:0,gamma:0},i=a.alpha;return this.alphaOffsetDevice&&(e.setFromEuler(this.alphaOffsetDevice),e.rotateZ(-this.alphaOffsetScreen),t.setFromRotationMatrix(e),t.alpha<0&&(t.alpha+=360),t.alpha%=360,i-=t.alpha),t.set(i,a.beta,a.gamma),r.setFromEuler(t),r}}(),getScreenAdjustedQuaternion:function(){var t;return function(){return t=this.getFixedFrameQuaternion(),t.rotateZ(-b),t}}(),getFixedFrameMatrix:function(){var t=new c.Euler,e=new c.RotationMatrix;return function(){var r=s.orientation.data||{alpha:0,beta:0,gamma:0},a=r.alpha;return this.alphaOffsetDevice&&(e.setFromEuler(this.alphaOffsetDevice),e.rotateZ(-this.alphaOffsetScreen),t.setFromRotationMatrix(e),t.alpha<0&&(t.alpha+=360),t.alpha%=360,a-=t.alpha),t.set(a,r.beta,r.gamma),e.setFromEuler(t),e}}(),getScreenAdjustedMatrix:function(){var t;return function(){return t=this.getFixedFrameMatrix(),t.rotateZ(-b),t}}(),getFixedFrameEuler:function(){var t,e=new c.Euler;return function(){return t=this.getFixedFrameMatrix(),e.setFromRotationMatrix(t),e}}(),getScreenAdjustedEuler:function(){var t,e=new c.Euler;return function(){return t=this.getScreenAdjustedMatrix(),e.setFromRotationMatrix(t),e}}(),isAbsolute:function(){return!!(s.orientation.data&&s.orientation.data.absolute===!0)},getLastRawEventData:function(){return s.orientation.data||{}},_alphaAvailable:!1,_betaAvailable:!1,_gammaAvailable:!1,isAvailable:function(t){switch(t){case this.ALPHA:return this._alphaAvailable;case this.BETA:return this._betaAvailable;case this.GAMMA:return this._gammaAvailable}},ALPHA:"alpha",BETA:"beta",GAMMA:"gamma"},c.DeviceMotion=function(t){this.options=t||{}},c.DeviceMotion.prototype={constructor:c.DeviceMotion,start:function(t){t&&Object.prototype.toString.call(t)=="[object Function]"&&s.motion.callbacks.push(t),S||(C?m.screen.orientation.addEventListener("change",L,!1):m.addEventListener("orientationchange",L,!1)),s.motion.active||(m.addEventListener("devicemotion",z,!1),s.motion.active=!0)},stop:function(){s.motion.active&&(m.removeEventListener("devicemotion",z,!1),s.motion.active=!1)},listen:function(t){this.start(t)},getScreenAdjustedAcceleration:function(){var t=s.motion.data&&s.motion.data.acceleration?s.motion.data.acceleration:{x:0,y:0,z:0},e={};switch(b){case I:e.x=-t.y,e.y=t.x;break;case B:e.x=-t.x,e.y=-t.y;break;case j:case F:e.x=t.y,e.y=-t.x;break;default:e.x=t.x,e.y=t.y}return e.z=t.z,e},getScreenAdjustedAccelerationIncludingGravity:function(){var t=s.motion.data&&s.motion.data.accelerationIncludingGravity?s.motion.data.accelerationIncludingGravity:{x:0,y:0,z:0},e={};switch(b){case I:e.x=-t.y,e.y=t.x;break;case B:e.x=-t.x,e.y=-t.y;break;case j:case F:e.x=t.y,e.y=-t.x;break;default:e.x=t.x,e.y=t.y}return e.z=t.z,e},getScreenAdjustedRotationRate:function(){var t=s.motion.data&&s.motion.data.rotationRate?s.motion.data.rotationRate:{alpha:0,beta:0,gamma:0},e={};switch(b){case I:e.beta=-t.gamma,e.gamma=t.beta;break;case B:e.beta=-t.beta,e.gamma=-t.gamma;break;case j:case F:e.beta=t.gamma,e.gamma=-t.beta;break;default:e.beta=t.beta,e.gamma=t.gamma}return e.alpha=t.alpha,e},getLastRawEventData:function(){return s.motion.data||{}},_accelerationXAvailable:!1,_accelerationYAvailable:!1,_accelerationZAvailable:!1,_accelerationIncludingGravityXAvailable:!1,_accelerationIncludingGravityYAvailable:!1,_accelerationIncludingGravityZAvailable:!1,_rotationRateAlphaAvailable:!1,_rotationRateBetaAvailable:!1,_rotationRateGammaAvailable:!1,isAvailable:function(t){switch(t){case this.ACCELERATION_X:return this._accelerationXAvailable;case this.ACCELERATION_Y:return this._accelerationYAvailable;case this.ACCELERATION_Z:return this._accelerationZAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_X:return this._accelerationIncludingGravityXAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Y:return this._accelerationIncludingGravityYAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Z:return this._accelerationIncludingGravityZAvailable;case this.ROTATION_RATE_ALPHA:return this._rotationRateAlphaAvailable;case this.ROTATION_RATE_BETA:return this._rotationRateBetaAvailable;case this.ROTATION_RATE_GAMMA:return this._rotationRateGammaAvailable}},ACCELERATION_X:"accelerationX",ACCELERATION_Y:"accelerationY",ACCELERATION_Z:"accelerationZ",ACCELERATION_INCLUDING_GRAVITY_X:"accelerationIncludingGravityX",ACCELERATION_INCLUDING_GRAVITY_Y:"accelerationIncludingGravityY",ACCELERATION_INCLUDING_GRAVITY_Z:"accelerationIncludingGravityZ",ROTATION_RATE_ALPHA:"rotationRateAlpha",ROTATION_RATE_BETA:"rotationRateBeta",ROTATION_RATE_GAMMA:"rotationRateGamma"},m.FULLTILT=c}})(window);(function(m,R){var w={GyroNorm:R()};typeof define=="function"&&define.amd?define(function(){return w}):typeof module=="object"&&module.exports?module.exports=w:m.GyroNorm=w.GyroNorm})(window,function(){function m(a){return Math.round(a*Math.pow(10,c))/Math.pow(10,c)}function R(){var a={};a=e?b.getScreenAdjustedEuler():b.getFixedFrameEuler();var i=I.getScreenAdjustedAcceleration(),n=I.getScreenAdjustedAccelerationIncludingGravity(),o=I.getScreenAdjustedRotationRate(),u=0;F===L?(u=a.alpha-N,u=0>u?360-Math.abs(u):u):u=a.alpha;var d={do:{alpha:m(u),beta:m(a.beta),gamma:m(a.gamma),absolute:b.isAbsolute()},dm:{x:m(i.x),y:m(i.y),z:m(i.z),gx:m(n.x),gy:m(n.y),gz:m(n.z),alpha:m(o.alpha),beta:m(o.beta),gamma:m(o.gamma)}};return j&&(d.dm.gx*=s,d.dm.gy*=s,d.dm.gz*=s),d}function w(a){t&&(typeof a=="string"&&(a={message:a,code:0}),t(a))}var L="game",O="world",z="deviceorientation",g="acceleration",E="accelerationinludinggravity",G="rotationrate",M=null,N=0,s=0,S=!1,C=!1,b=null,I=null,B=50,j=!0,F=L,c=2,t=null,e=!1,r=function(a){};return r.GAME=L,r.WORLD=O,r.DEVICE_ORIENTATION=z,r.ACCELERATION=g,r.ACCELERATION_INCLUDING_GRAVITY=E,r.ROTATION_RATE=G,r.prototype.init=function(a){a&&a.frequency&&(B=a.frequency),a&&a.gravityNormalized&&(j=a.gravityNormalized),a&&a.orientationBase&&(F=a.orientationBase),a&&typeof a.decimalCount=="number"&&a.decimalCount>=0&&(c=parseInt(a.decimalCount)),a&&a.logger&&(t=a.logger),a&&a.screenAdjusted&&(e=a.screenAdjusted);var i=new FULLTILT.getDeviceOrientation({type:F}).then(function(o){b=o}),n=new FULLTILT.getDeviceMotion().then(function(o){I=o,s=I.getScreenAdjustedAccelerationIncludingGravity().z>0?-1:1});return Promise.all([i,n]).then(function(){C=!0})},r.prototype.end=function(){try{C=!1,this.stop(),I.stop(),b.stop()}catch(a){w(a)}},r.prototype.start=function(a){return C?(M=setInterval(function(){a(R())},B),void(S=!0)):void w({message:'GyroNorm is not initialized yet. First call the "init()" function.',code:1})},r.prototype.stop=function(){M&&(clearInterval(M),S=!1)},r.prototype.normalizeGravity=function(a){j=!!a},r.prototype.setHeadDirection=function(){return e||F===O?!1:(N=b.getFixedFrameEuler().alpha,!0)},r.prototype.startLogging=function(a){a&&(t=a)},r.prototype.stopLogging=function(){t=null},r.prototype.isAvailable=function(a){var i=b.getScreenAdjustedEuler(),n=I.getScreenAdjustedAcceleration(),o=I.getScreenAdjustedAccelerationIncludingGravity(),u=I.getScreenAdjustedRotationRate();switch(a){case z:return i.alpha&&i.alpha!==null&&i.beta&&i.beta!==null&&i.gamma&&i.gamma!==null;case g:return n&&n.x&&n.y&&n.z;case E:return o&&o.x&&o.y&&o.z;case G:return u&&u.alpha&&u.beta&&u.gamma;default:return{deviceOrientationAvailable:i.alpha&&i.alpha!==null&&i.beta&&i.beta!==null&&i.gamma&&i.gamma!==null,accelerationAvailable:n&&n.x&&n.y&&n.z,accelerationIncludingGravityAvailable:o&&o.x&&o.y&&o.z,rotationRateAvailable:u&&u.alpha&&u.beta&&u.gamma}}},r.prototype.isRunning=function(){return S},r});const V=m=>(et("data-v-177d4c16"),m=m(),at(),m),ct={id:"title"},lt=tt('<div id="map" class="map" data-v-177d4c16></div><p data-v-177d4c16><div data-v-177d4c16>α : <code id="alpha" data-v-177d4c16></code></div><div data-v-177d4c16>β : <code id="beta" data-v-177d4c16></code></div><div data-v-177d4c16>γ : <code id="gamma" data-v-177d4c16></code></div></p><p data-v-177d4c16>This example shows how to track changes in device orientation. gyronorm.js library is used to access and normalize the events from the browser.</p><h5 class="source-heading" data-v-177d4c16>html</h5>',4),ut={class:"language-html"},mt=V(()=>T("h5",{class:"source-heading"},"css",-1)),ht={class:"language-css"},dt=V(()=>T("h5",{class:"source-heading"},"js",-1)),pt={class:"language-js"},vt=V(()=>T("h5",{class:"source-heading"},"package.json",-1)),ft={class:"language-json"},yt={__name:"index",setup(m){return W(()=>{const R=new X({center:[0,0],zoom:2});new U({layers:[new H({source:new P})],target:"map",view:R});function w(O){return document.getElementById(O)}const L=new GyroNorm;L.init().then(function(){L.start(function(O){const z=R.getCenter(),g=R.getResolution(),E=Z(O.do.alpha),G=Z(O.do.beta),M=Z(O.do.gamma);w("alpha").innerText=E+" [rad]",w("beta").innerText=G+" [rad]",w("gamma").innerText=M+" [rad]",z[0]-=g*M*25,z[1]+=g*G*25,R.setCenter(z)})}),Prism.highlightAll()}),(R,w)=>(J(),K($,null,[T("h4",ct,Q(Y(nt)),1),lt,T("pre",null,[T("code",ut,Q("  "+Y(it).trim()),1)]),mt,T("pre",null,[T("code",ht,Q("  "+Y(ot).trim()),1)]),dt,T("pre",null,[T("code",pt,Q("  "+Y(rt).trim()),1)]),vt,T("pre",null,[T("code",ft,Q("  "+Y(st).trim()),1)])],64))}},Lt=q(yt,[["__scopeId","data-v-177d4c16"]]);export{Lt as default};

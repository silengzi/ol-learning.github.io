import{M as te,a9 as ee,V as re}from"./Layer-d95863ce.js";import{_ as ne,i as ie,o as se,c as oe,b as Tt,t as Gt,g as Yt,F as ae,j as de,p as le,k as he}from"./index-ceda08fa.js";import{D as fe,G as ue,I as ce,K as $t,T as pe}from"./TopoJSON-e16566b9.js";import{G as me}from"./GeoJSON-18d2e23d.js";import{T as _e}from"./Tile-26a716d9.js";import{O as ge}from"./OSM-4c2d3aa4.js";import{V as we}from"./VectorLayer-8feade0f.js";import{V as ve}from"./Vector-3d640e4b.js";import"./LineString-da25bcd7.js";import"./featureloader-ea3986d0.js";import"./MultiPolygon-f37fd2e0.js";import"./Feature-ba88f75c.js";import"./GeometryCollection-e31ac581.js";import"./string-30bf5402.js";import"./JSONFeature-6b9607e0.js";import"./BaseTile-0f70055b.js";import"./TileProperty-0dbbd060.js";import"./TileLayer-121ec467.js";import"./Layer-4850cb8d.js";import"./XYZ-73edd6ba.js";import"./TileImage-f7288716.js";import"./UrlTile-563a27f8.js";const ye="Custom Drag-and-Drop (KMZ)",be=`
  <div id="map" class="map"></div>
  <br />
  <div>
    <a id="download" download></a>
    <button id="download-kmz">Download sample</button>
  </div>
  <br />
  <div id="info">&nbsp;</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.6.1/jszip.min.js"><\/script>
`,ke=`
  .map {
    width: 100%;
    height: 400px;
  }
  #info {
    width: 100%;
    height: 24rem;
    overflow: scroll;
    display: flex;
    align-items: baseline;
    border: 1px solid black;
    justify-content: flex-start;
  }
`,xe=`
  import Map from 'ol/Map.js';
  import View from 'ol/View.js';
  import {
    DragAndDrop,
    defaults as defaultInteractions,
  } from 'ol/interaction.js';
  import {GPX, GeoJSON, IGC, KML, TopoJSON} from 'ol/format.js';
  import {OSM, Vector as VectorSource} from 'ol/source.js';
  import {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer.js';

  // Create functions to extract KML and icons from KMZ array buffer,
  // which must be done synchronously.

  const zip = new JSZip();

  function getKMLData(buffer) {
    let kmlData;
    zip.load(buffer);
    const kmlFile = zip.file(/.kml$/i)[0];
    if (kmlFile) {
      kmlData = kmlFile.asText();
    }
    return kmlData;
  }

  function getKMLImage(href) {
    const index = window.location.href.lastIndexOf('/');
    if (index !== -1) {
      const kmlFile = zip.file(href.slice(index + 1));
      if (kmlFile) {
        return URL.createObjectURL(new Blob([kmlFile.asArrayBuffer()]));
      }
    }
    return href;
  }

  // Define a KMZ format class by subclassing ol/format/KML

  class KMZ extends KML {
    constructor(opt_options) {
      const options = opt_options || {};
      options.iconUrlFunction = getKMLImage;
      super(options);
    }

    getType() {
      return 'arraybuffer';
    }

    readFeature(source, options) {
      const kmlData = getKMLData(source);
      return super.readFeature(kmlData, options);
    }

    readFeatures(source, options) {
      const kmlData = getKMLData(source);
      return super.readFeatures(kmlData, options);
    }
  }

  // Set up map with Drag and Drop interaction

  const dragAndDropInteraction = new DragAndDrop({
    formatConstructors: [KMZ, GPX, GeoJSON, IGC, KML, TopoJSON],
  });

  const map = new Map({
    interactions: defaultInteractions().extend([dragAndDropInteraction]),
    layers: [
      new TileLayer({
        source: new OSM(),
      }),
    ],
    target: 'map',
    view: new View({
      center: [0, 0],
      zoom: 2,
    }),
  });

  dragAndDropInteraction.on('addfeatures', function (event) {
    const vectorSource = new VectorSource({
      features: event.features,
    });
    map.addLayer(
      new VectorLayer({
        source: vectorSource,
      })
    );
    map.getView().fit(vectorSource.getExtent());
  });

  const displayFeatureInfo = function (pixel) {
    const features = [];
    map.forEachFeatureAtPixel(pixel, function (feature) {
      features.push(feature);
    });
    if (features.length > 0) {
      const info = [];
      let i, ii;
      for (i = 0, ii = features.length; i < ii; ++i) {
        const description =
          features[i].get('description') ||
          features[i].get('name') ||
          features[i].get('_name') ||
          features[i].get('layer');
        if (description) {
          info.push(description);
        }
      }
      document.getElementById('info').innerHTML = info.join('<br/>') || '&nbsp';
    } else {
      document.getElementById('info').innerHTML = '&nbsp;';
    }
  };

  map.on('pointermove', function (evt) {
    if (evt.dragging) {
      return;
    }
    const pixel = map.getEventPixel(evt.originalEvent);
    displayFeatureInfo(pixel);
  });

  map.on('click', function (evt) {
    displayFeatureInfo(evt.pixel);
  });

  // Sample data download

  const link = document.getElementById('download');

  function download(fullpath, filename) {
    fetch(fullpath)
      .then(function (response) {
        return response.blob();
      })
      .then(function (blob) {
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        link.click();
      });
  }

  document.getElementById('download-kmz').addEventListener('click', function () {
    download('data/kmz/iceland.kmz', 'iceland.kmz');
  });
`,ze=`
  {
    "name": "drag-and-drop-custom-kmz",
    "dependencies": {
      "ol": "8.2.0"
    },
    "devDependencies": {
      "vite": "^3.2.3"
    },
    "scripts": {
      "start": "vite",
      "build": "vite build"
    }
  }
`;/*!

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(z){if(typeof exports=="object"&&typeof module<"u")module.exports=z();else if(typeof define=="function"&&define.amd)define([],z);else{var F;F=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this,F.JSZip=z()}})(function(){return function z(F,m,_){function w(p,f){if(!m[p]){if(!F[p]){var y=typeof require=="function"&&require;if(!f&&y)return y(p,!0);if(d)return d(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var r=m[p]={exports:{}};F[p][0].call(r.exports,function(s){var a=F[p][1][s];return w(a||s)},r,r.exports,z,F,m,_)}return m[p].exports}for(var d=typeof require=="function"&&require,g=0;g<_.length;g++)w(_[g]);return w}({1:[function(z,F,m){function _(d){if(d){this.data=d,this.length=this.data.length,this.index=0,this.zero=0;for(var g=0;g<this.data.length;g++)d[g]=255&d[g]}}var w=z("./dataReader");_.prototype=new w,_.prototype.byteAt=function(d){return this.data[this.zero+d]},_.prototype.lastIndexOfSignature=function(d){for(var g=d.charCodeAt(0),p=d.charCodeAt(1),f=d.charCodeAt(2),y=d.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===g&&this.data[v+1]===p&&this.data[v+2]===f&&this.data[v+3]===y)return v-this.zero;return-1},_.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},F.exports=_},{"./dataReader":6}],2:[function(z,F,m){var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(w,d){for(var g,p,f,y,v,r,s,a="",k=0;k<w.length;)g=w.charCodeAt(k++),p=w.charCodeAt(k++),f=w.charCodeAt(k++),y=g>>2,v=(3&g)<<4|p>>4,r=(15&p)<<2|f>>6,s=63&f,isNaN(p)?r=s=64:isNaN(f)&&(s=64),a=a+_.charAt(y)+_.charAt(v)+_.charAt(r)+_.charAt(s);return a},m.decode=function(w,d){var g,p,f,y,v,r,s,a="",k=0;for(w=w.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<w.length;)y=_.indexOf(w.charAt(k++)),v=_.indexOf(w.charAt(k++)),r=_.indexOf(w.charAt(k++)),s=_.indexOf(w.charAt(k++)),g=y<<2|v>>4,p=(15&v)<<4|r>>2,f=(3&r)<<6|s,a+=String.fromCharCode(g),r!=64&&(a+=String.fromCharCode(p)),s!=64&&(a+=String.fromCharCode(f));return a}},{}],3:[function(z,F,m){function _(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}_.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},F.exports=_},{}],4:[function(z,F,m){m.STORE={magic:"\0\0",compress:function(_,w){return _},uncompress:function(_){return _},compressInputType:null,uncompressInputType:null},m.DEFLATE=z("./flate")},{"./flate":9}],5:[function(z,F,m){var _=z("./utils"),w=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];F.exports=function(d,g){if(typeof d>"u"||!d.length)return 0;var p=_.getTypeOf(d)!=="string";typeof g>"u"&&(g=0);var f=0,y=0,v=0;g^=-1;for(var r=0,s=d.length;r<s;r++)v=p?d[r]:d.charCodeAt(r),y=255&(g^v),f=w[y],g=g>>>8^f;return g^-1}},{"./utils":22}],6:[function(z,F,m){function _(d){this.data=null,this.length=0,this.index=0,this.zero=0}var w=z("./utils");_.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(d){},readInt:function(d){var g,p=0;for(this.checkOffset(d),g=this.index+d-1;g>=this.index;g--)p=(p<<8)+this.byteAt(g);return this.index+=d,p},readString:function(d){return w.transformTo("string",this.readData(d))},readData:function(d){},lastIndexOfSignature:function(d){},readDate:function(){var d=this.readInt(4);return new Date((d>>25&127)+1980,(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1)}},F.exports=_},{"./utils":22}],7:[function(z,F,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!1,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],8:[function(z,F,m){var _=z("./utils");m.string2binary=function(w){return _.string2binary(w)},m.string2Uint8Array=function(w){return _.transformTo("uint8array",w)},m.uint8Array2String=function(w){return _.transformTo("string",w)},m.string2Blob=function(w){var d=_.transformTo("arraybuffer",w);return _.arrayBuffer2Blob(d)},m.arrayBuffer2Blob=function(w){return _.arrayBuffer2Blob(w)},m.transformTo=function(w,d){return _.transformTo(w,d)},m.getTypeOf=function(w){return _.getTypeOf(w)},m.checkSupport=function(w){return _.checkSupport(w)},m.MAX_VALUE_16BITS=_.MAX_VALUE_16BITS,m.MAX_VALUE_32BITS=_.MAX_VALUE_32BITS,m.pretty=function(w){return _.pretty(w)},m.findCompression=function(w){return _.findCompression(w)},m.isRegExp=function(w){return _.isRegExp(w)}},{"./utils":22}],9:[function(z,F,m){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=z("pako");m.uncompressInputType=_?"uint8array":"array",m.compressInputType=_?"uint8array":"array",m.magic="\b\0",m.compress=function(d,g){return w.deflateRaw(d,{level:g.level||-1})},m.uncompress=function(d){return w.inflateRaw(d)}},{pako:25}],10:[function(z,F,m){function _(d,g){return this instanceof _?(this.files={},this.comment=null,this.root="",d&&this.load(d,g),void(this.clone=function(){var p=new _;for(var f in this)typeof this[f]!="function"&&(p[f]=this[f]);return p})):new _(d,g)}var w=z("./base64");_.prototype=z("./object"),_.prototype.load=z("./load"),_.support=z("./support"),_.defaults=z("./defaults"),_.utils=z("./deprecatedPublicUtils"),_.base64={encode:function(d){return w.encode(d)},decode:function(d){return w.decode(d)}},_.compressions=z("./compressions"),F.exports=_},{"./base64":2,"./compressions":4,"./defaults":7,"./deprecatedPublicUtils":8,"./load":11,"./object":14,"./support":18}],11:[function(z,F,m){var _=z("./base64"),w=z("./utf8"),d=z("./utils"),g=z("./zipEntries");F.exports=function(p,f){var y,v,r,s;for(f=d.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:w.utf8decode}),f.base64&&(p=_.decode(p)),v=new g(p,f),y=v.files,r=0;r<y.length;r++)s=y[r],this.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:f.createFolders});return v.zipComment.length&&(this.comment=v.zipComment),this}},{"./base64":2,"./utf8":21,"./utils":22,"./zipEntries":23}],12:[function(z,F,m){(function(_){F.exports=function(w,d){return new _(w,d)},F.exports.test=function(w){return _.isBuffer(w)}}).call(this,typeof Buffer<"u"?Buffer:void 0)},{}],13:[function(z,F,m){function _(d){this.data=d,this.length=this.data.length,this.index=0,this.zero=0}var w=z("./uint8ArrayReader");_.prototype=new w,_.prototype.readData=function(d){this.checkOffset(d);var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},F.exports=_},{"./uint8ArrayReader":19}],14:[function(z,F,m){var _=z("./support"),w=z("./utils"),d=z("./crc32"),g=z("./signature"),p=z("./defaults"),f=z("./base64"),y=z("./compressions"),v=z("./compressedObject"),r=z("./nodeBuffer"),s=z("./utf8"),a=z("./stringWriter"),k=z("./uint8ArrayWriter"),E=function(c){if(c._data instanceof v&&(c._data=c._data.getContent(),c.options.binary=!0,c.options.base64=!1,w.getTypeOf(c._data)==="uint8array")){var x=c._data;c._data=new Uint8Array(x.length),x.length!==0&&c._data.set(x,0)}return c._data},I=function(c){var x=E(c),C=w.getTypeOf(x);return C==="string"?!c.options.binary&&_.nodebuffer?r(x,"utf-8"):c.asBinary():x},K=function(c){var x=E(this);return x===null||typeof x>"u"?"":(this.options.base64&&(x=f.decode(x)),x=c&&this.options.binary?$.utf8decode(x):w.transformTo("string",x),c||this.options.binary||(x=w.transformTo("string",$.utf8encode(x))),x)},N=function(c,x,C){this.name=c,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=x,this.options=C,this._initialMetadata={dir:C.dir,date:C.date}};N.prototype={asText:function(){return K.call(this,!0)},asBinary:function(){return K.call(this,!1)},asNodeBuffer:function(){var c=I(this);return w.transformTo("nodebuffer",c)},asUint8Array:function(){var c=I(this);return w.transformTo("uint8array",c)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var L=function(c,x){var C,M="";for(C=0;C<x;C++)M+=String.fromCharCode(255&c),c>>>=8;return M},Q=function(c){return c=c||{},c.base64!==!0||c.binary!==null&&c.binary!==void 0||(c.binary=!0),c=w.extend(c,p),c.date=c.date||new Date,c.compression!==null&&(c.compression=c.compression.toUpperCase()),c},Y=function(c,x,C){var M,P=w.getTypeOf(x);if(C=Q(C),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&(c=J(c)),C.createFolders&&(M=O(c))&&X.call(this,M,!0),C.dir||x===null||typeof x>"u")C.base64=!1,C.binary=!1,x=null,P=null;else if(P==="string")C.binary&&!C.base64&&C.optimizedBinaryString!==!0&&(x=w.string2binary(x));else{if(C.base64=!1,C.binary=!0,!(P||x instanceof v))throw new Error("The data of '"+c+"' is in an unsupported format !");P==="arraybuffer"&&(x=w.transformTo("uint8array",x))}var V=new N(c,x,C);return this.files[c]=V,V},O=function(c){c.slice(-1)=="/"&&(c=c.substring(0,c.length-1));var x=c.lastIndexOf("/");return x>0?c.substring(0,x):""},J=function(c){return c.slice(-1)!="/"&&(c+="/"),c},X=function(c,x){return x=typeof x<"u"&&x,c=J(c),this.files[c]||Y.call(this,c,null,{dir:!0,createFolders:x}),this.files[c]},R=function(c,x,C){var M,P=new v;return c._data instanceof v?(P.uncompressedSize=c._data.uncompressedSize,P.crc32=c._data.crc32,P.uncompressedSize===0||c.dir?(x=y.STORE,P.compressedContent="",P.crc32=0):c._data.compressionMethod===x.magic?P.compressedContent=c._data.getCompressedContent():(M=c._data.getContent(),P.compressedContent=x.compress(w.transformTo(x.compressInputType,M),C))):(M=I(c),M&&M.length!==0&&!c.dir||(x=y.STORE,M=""),P.uncompressedSize=M.length,P.crc32=d(M),P.compressedContent=x.compress(w.transformTo(x.compressInputType,M),C)),P.compressedSize=P.compressedContent.length,P.compressionMethod=x.magic,P},W=function(c,x){var C=c;return c||(C=x?16893:33204),(65535&C)<<16},ct=function(c,x){return 63&(c||0)},q=function(c,x,C,M,P,V){var ot,lt,et,at,dt=(C.compressedContent,V!==s.utf8encode),ht=w.transformTo("string",V(x.name)),nt=w.transformTo("string",s.utf8encode(x.name)),mt=x.comment||"",it=w.transformTo("string",V(mt)),ft=w.transformTo("string",s.utf8encode(mt)),pt=nt.length!==x.name.length,bt=ft.length!==mt.length,ut=x.options,St="",Ft="",It="";et=x._initialMetadata.dir!==x.dir?x.dir:ut.dir,at=x._initialMetadata.date!==x.date?x.date:ut.date;var Et=0,Dt=0;et&&(Et|=16),P==="UNIX"?(Dt=798,Et|=W(x.unixPermissions,et)):(Dt=20,Et|=ct(x.dosPermissions)),ot=at.getHours(),ot<<=6,ot|=at.getMinutes(),ot<<=5,ot|=at.getSeconds()/2,lt=at.getFullYear()-1980,lt<<=4,lt|=at.getMonth()+1,lt<<=5,lt|=at.getDate(),pt&&(Ft=L(1,1)+L(d(ht),4)+nt,St+="up"+L(Ft.length,2)+Ft),bt&&(It=L(1,1)+L(this.crc32(it),4)+ft,St+="uc"+L(It.length,2)+It);var _t="";_t+=`
\0`,_t+=dt||!pt&&!bt?"\0\0":"\0\b",_t+=C.compressionMethod,_t+=L(ot,2),_t+=L(lt,2),_t+=L(C.crc32,4),_t+=L(C.compressedSize,4),_t+=L(C.uncompressedSize,4),_t+=L(ht.length,2),_t+=L(St.length,2);var Nt=g.LOCAL_FILE_HEADER+_t+ht+St,Bt=g.CENTRAL_FILE_HEADER+L(Dt,2)+_t+L(it.length,2)+"\0\0\0\0"+L(Et,4)+L(M,4)+ht+St+it;return{fileRecord:Nt,dirRecord:Bt,compressedObject:C}},$={load:function(c,x){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(c){var x,C,M,P,V=[];for(x in this.files)this.files.hasOwnProperty(x)&&(M=this.files[x],P=new N(M.name,M._data,w.extend(M.options)),C=x.slice(this.root.length,x.length),x.slice(0,this.root.length)===this.root&&c(C,P)&&V.push(P));return V},file:function(c,x,C){if(arguments.length===1){if(w.isRegExp(c)){var M=c;return this.filter(function(P,V){return!V.dir&&M.test(P)})}return this.filter(function(P,V){return!V.dir&&P===c})[0]||null}return c=this.root+c,Y.call(this,c,x,C),this},folder:function(c){if(!c)return this;if(w.isRegExp(c))return this.filter(function(P,V){return V.dir&&c.test(P)});var x=this.root+c,C=X.call(this,x),M=this.clone();return M.root=C.name,M},remove:function(c){c=this.root+c;var x=this.files[c];if(x||(c.slice(-1)!="/"&&(c+="/"),x=this.files[c]),x&&!x.dir)delete this.files[c];else for(var C=this.filter(function(P,V){return V.name.slice(0,c.length)===c}),M=0;M<C.length;M++)delete this.files[C[M].name];return this},generate:function(c){c=w.extend(c||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),w.checkSupport(c.type),c.platform!=="darwin"&&c.platform!=="freebsd"&&c.platform!=="linux"&&c.platform!=="sunos"||(c.platform="UNIX"),c.platform==="win32"&&(c.platform="DOS");var x,C,M=[],P=0,V=0,ot=w.transformTo("string",c.encodeFileName(c.comment||this.comment||""));for(var lt in this.files)if(this.files.hasOwnProperty(lt)){var et=this.files[lt],at=et.options.compression||c.compression.toUpperCase(),dt=y[at];if(!dt)throw new Error(at+" is not a valid compression method !");var ht=et.options.compressionOptions||c.compressionOptions||{},nt=R.call(this,et,dt,ht),mt=q.call(this,lt,et,nt,P,c.platform,c.encodeFileName);P+=mt.fileRecord.length+nt.compressedSize,V+=mt.dirRecord.length,M.push(mt)}var it="";it=g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+L(M.length,2)+L(M.length,2)+L(V,4)+L(P,4)+L(ot.length,2)+ot;var ft=c.type.toLowerCase();for(x=ft==="uint8array"||ft==="arraybuffer"||ft==="blob"||ft==="nodebuffer"?new k(P+V+it.length):new a(P+V+it.length),C=0;C<M.length;C++)x.append(M[C].fileRecord),x.append(M[C].compressedObject.compressedContent);for(C=0;C<M.length;C++)x.append(M[C].dirRecord);x.append(it);var pt=x.finalize();switch(c.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return w.transformTo(c.type.toLowerCase(),pt);case"blob":return w.arrayBuffer2Blob(w.transformTo("arraybuffer",pt),c.mimeType);case"base64":return c.base64?f.encode(pt):pt;default:return pt}},crc32:function(c,x){return d(c,x)},utf8encode:function(c){return w.transformTo("string",s.utf8encode(c))},utf8decode:function(c){return s.utf8decode(c)}};F.exports=$},{"./base64":2,"./compressedObject":3,"./compressions":4,"./crc32":5,"./defaults":7,"./nodeBuffer":12,"./signature":15,"./stringWriter":17,"./support":18,"./uint8ArrayWriter":20,"./utf8":21,"./utils":22}],15:[function(z,F,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],16:[function(z,F,m){function _(g,p){this.data=g,p||(this.data=d.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var w=z("./dataReader"),d=z("./utils");_.prototype=new w,_.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},_.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},_.prototype.readData=function(g){this.checkOffset(g);var p=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,p},F.exports=_},{"./dataReader":6,"./utils":22}],17:[function(z,F,m){var _=z("./utils"),w=function(){this.data=[]};w.prototype={append:function(d){d=_.transformTo("string",d),this.data.push(d)},finalize:function(){return this.data.join("")}},F.exports=w},{"./utils":22}],18:[function(z,F,m){(function(_){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=typeof _<"u",m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var w=new ArrayBuffer(0);try{m.blob=new Blob([w],{type:"application/zip"}).size===0}catch{try{var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,g=new d;g.append(w),m.blob=g.getBlob("application/zip").size===0}catch{m.blob=!1}}}}).call(this,typeof Buffer<"u"?Buffer:void 0)},{}],19:[function(z,F,m){function _(d){d&&(this.data=d,this.length=this.data.length,this.index=0,this.zero=0)}var w=z("./arrayReader");_.prototype=new w,_.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},F.exports=_},{"./arrayReader":1}],20:[function(z,F,m){var _=z("./utils"),w=function(d){this.data=new Uint8Array(d),this.index=0};w.prototype={append:function(d){d.length!==0&&(d=_.transformTo("uint8array",d),this.data.set(d,this.index),this.index+=d.length)},finalize:function(){return this.data}},F.exports=w},{"./utils":22}],21:[function(z,F,m){for(var _=z("./utils"),w=z("./support"),d=z("./nodeBuffer"),g=new Array(256),p=0;p<256;p++)g[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;g[254]=g[254]=1;var f=function(r){var s,a,k,E,I,K=r.length,N=0;for(E=0;E<K;E++)a=r.charCodeAt(E),(64512&a)===55296&&E+1<K&&(k=r.charCodeAt(E+1),(64512&k)===56320&&(a=65536+(a-55296<<10)+(k-56320),E++)),N+=a<128?1:a<2048?2:a<65536?3:4;for(s=w.uint8array?new Uint8Array(N):new Array(N),I=0,E=0;I<N;E++)a=r.charCodeAt(E),(64512&a)===55296&&E+1<K&&(k=r.charCodeAt(E+1),(64512&k)===56320&&(a=65536+(a-55296<<10)+(k-56320),E++)),a<128?s[I++]=a:a<2048?(s[I++]=192|a>>>6,s[I++]=128|63&a):a<65536?(s[I++]=224|a>>>12,s[I++]=128|a>>>6&63,s[I++]=128|63&a):(s[I++]=240|a>>>18,s[I++]=128|a>>>12&63,s[I++]=128|a>>>6&63,s[I++]=128|63&a);return s},y=function(r,s){var a;for(s=s||r.length,s>r.length&&(s=r.length),a=s-1;a>=0&&(192&r[a])===128;)a--;return a<0||a===0?s:a+g[r[a]]>s?a:s},v=function(r){var s,a,k,E,I=r.length,K=new Array(2*I);for(a=0,s=0;s<I;)if(k=r[s++],k<128)K[a++]=k;else if(E=g[k],E>4)K[a++]=65533,s+=E-1;else{for(k&=E===2?31:E===3?15:7;E>1&&s<I;)k=k<<6|63&r[s++],E--;E>1?K[a++]=65533:k<65536?K[a++]=k:(k-=65536,K[a++]=55296|k>>10&1023,K[a++]=56320|1023&k)}return K.length!==a&&(K.subarray?K=K.subarray(0,a):K.length=a),_.applyFromCharCode(K)};m.utf8encode=function(r){return w.nodebuffer?d(r,"utf-8"):f(r)},m.utf8decode=function(r){if(w.nodebuffer)return _.transformTo("nodebuffer",r).toString("utf-8");r=_.transformTo(w.uint8array?"uint8array":"array",r);for(var s=[],a=0,k=r.length,E=65536;a<k;){var I=y(r,Math.min(a+E,k));w.uint8array?s.push(v(r.subarray(a,I))):s.push(v(r.slice(a,I))),a=I}return s.join("")}},{"./nodeBuffer":12,"./support":18,"./utils":22}],22:[function(z,F,m){function _(r){return r}function w(r,s){for(var a=0;a<r.length;++a)s[a]=255&r.charCodeAt(a);return s}function d(r){var s=65536,a=[],k=r.length,E=m.getTypeOf(r),I=0,K=!0;try{switch(E){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,y(0))}}catch{K=!1}if(!K){for(var N="",L=0;L<r.length;L++)N+=String.fromCharCode(r[L]);return N}for(;I<k&&s>1;)try{E==="array"||E==="nodebuffer"?a.push(String.fromCharCode.apply(null,r.slice(I,Math.min(I+s,k)))):a.push(String.fromCharCode.apply(null,r.subarray(I,Math.min(I+s,k)))),I+=s}catch{s=Math.floor(s/2)}return a.join("")}function g(r,s){for(var a=0;a<r.length;a++)s[a]=r[a];return s}var p=z("./support"),f=z("./compressions"),y=z("./nodeBuffer");m.string2binary=function(r){for(var s="",a=0;a<r.length;a++)s+=String.fromCharCode(255&r.charCodeAt(a));return s},m.arrayBuffer2Blob=function(r,s){m.checkSupport("blob"),s=s||"application/zip";try{return new Blob([r],{type:s})}catch{try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,k=new a;return k.append(r),k.getBlob(s)}catch{throw new Error("Bug : can't construct the Blob.")}}},m.applyFromCharCode=d;var v={};v.string={string:_,array:function(r){return w(r,new Array(r.length))},arraybuffer:function(r){return v.string.uint8array(r).buffer},uint8array:function(r){return w(r,new Uint8Array(r.length))},nodebuffer:function(r){return w(r,y(r.length))}},v.array={string:d,array:_,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return y(r)}},v.arraybuffer={string:function(r){return d(new Uint8Array(r))},array:function(r){return g(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:_,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return y(new Uint8Array(r))}},v.uint8array={string:d,array:function(r){return g(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:_,nodebuffer:function(r){return y(r)}},v.nodebuffer={string:d,array:function(r){return g(r,new Array(r.length))},arraybuffer:function(r){return v.nodebuffer.uint8array(r).buffer},uint8array:function(r){return g(r,new Uint8Array(r.length))},nodebuffer:_},m.transformTo=function(r,s){if(s||(s=""),!r)return s;m.checkSupport(r);var a=m.getTypeOf(s),k=v[a][r](s);return k},m.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":p.nodebuffer&&y.test(r)?"nodebuffer":p.uint8array&&r instanceof Uint8Array?"uint8array":p.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(r){var s=p[r.toLowerCase()];if(!s)throw new Error(r+" is not supported by this browser")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(r){var s,a,k="";for(a=0;a<(r||"").length;a++)s=r.charCodeAt(a),k+="\\x"+(s<16?"0":"")+s.toString(16).toUpperCase();return k},m.findCompression=function(r){for(var s in f)if(f.hasOwnProperty(s)&&f[s].magic===r)return f[s];return null},m.isRegExp=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},m.extend=function(){var r,s,a={};for(r=0;r<arguments.length;r++)for(s in arguments[r])arguments[r].hasOwnProperty(s)&&typeof a[s]>"u"&&(a[s]=arguments[r][s]);return a}},{"./compressions":4,"./nodeBuffer":12,"./support":18}],23:[function(z,F,m){function _(s,a){this.files=[],this.loadOptions=a,s&&this.load(s)}var w=z("./stringReader"),d=z("./nodeBufferReader"),g=z("./uint8ArrayReader"),p=z("./arrayReader"),f=z("./utils"),y=z("./signature"),v=z("./zipEntry"),r=z("./support");z("./object"),_.prototype={checkSignature:function(s){var a=this.reader.readString(4);if(a!==s)throw new Error("Corrupted zip or bug : unexpected signature ("+f.pretty(a)+", expected "+f.pretty(s)+")")},isSignature:function(s,a){var k=this.reader.index;this.reader.setIndex(s);var E=this.reader.readString(4),I=E===a;return this.reader.setIndex(k),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var s=this.reader.readData(this.zipCommentLength),a=r.uint8array?"uint8array":"array",k=f.transformTo(a,s);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var s,a,k,E=this.zip64EndOfCentralSize-44,I=0;I<E;)s=this.reader.readInt(2),a=this.reader.readInt(4),k=this.reader.readString(a),this.zip64ExtensibleData[s]={id:s,length:a,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var s,a;for(s=0;s<this.files.length;s++)a=this.files[s],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var s;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===y.CENTRAL_FILE_HEADER;)s=new v({zip64:this.zip64},this.loadOptions),s.readCentralPart(this.reader),this.files.push(s);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var s=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(s<0){var a=!this.isSignature(0,y.LOCAL_FILE_HEADER);throw a?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(s);var k=s;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,s=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),s<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(s),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var I=k-E;if(I>0)this.isSignature(k,y.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(s){var a=f.getTypeOf(s);if(f.checkSupport(a),a!=="string"||r.uint8array)if(a==="nodebuffer")this.reader=new d(s);else if(r.uint8array)this.reader=new g(f.transformTo("uint8array",s));else{if(!r.array)throw new Error("Unexpected error: unsupported type '"+a+"'");this.reader=new p(f.transformTo("array",s))}else this.reader=new w(s,this.loadOptions.optimizedBinaryString)},load:function(s){this.prepareReader(s),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},F.exports=_},{"./arrayReader":1,"./nodeBufferReader":13,"./object":14,"./signature":15,"./stringReader":16,"./support":18,"./uint8ArrayReader":19,"./utils":22,"./zipEntry":24}],24:[function(z,F,m){function _(r,s){this.options=r,this.loadOptions=s}var w=z("./stringReader"),d=z("./utils"),g=z("./compressedObject"),p=z("./object"),f=z("./support"),y=0,v=3;_.prototype={isEncrypted:function(){return(1&this.bitFlag)===1},useUTF8:function(){return(2048&this.bitFlag)===2048},prepareCompressedContent:function(r,s,a){return function(){var k=r.index;r.setIndex(s);var E=r.readData(a);return r.setIndex(k),E}},prepareContent:function(r,s,a,k,E){return function(){var I=d.transformTo(k.uncompressInputType,this.getCompressedContent()),K=k.uncompress(I);if(K.length!==E)throw new Error("Bug : uncompressed data size mismatch");return K}},readLocalPart:function(r){var s,a;if(r.skip(22),this.fileNameLength=r.readInt(2),a=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(a),this.compressedSize==-1||this.uncompressedSize==-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(s=d.findCompression(this.compressionMethod),s===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(r,r.index,this.compressedSize,s),this.decompressed.getContent=this.prepareContent(r,r.index,this.compressedSize,s,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=d.transformTo("string",this.decompressed.getContent()),p.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(r){if(this.versionMadeBy=r.readInt(2),this.versionNeeded=r.readInt(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4),this.fileNameLength=r.readInt(2),this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=r.readData(this.fileNameLength),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r===y&&(this.dosPermissions=63&this.externalFileAttributes),r===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(r){if(this.extraFields[1]){var s=new w(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(r){var s,a,k,E=r.index;for(this.extraFields=this.extraFields||{};r.index<E+this.extraFieldsLength;)s=r.readInt(2),a=r.readInt(2),k=r.readString(a),this.extraFields[s]={id:s,length:a,value:k}},handleUTF8:function(){var r=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var s=this.findExtraFieldUnicodePath();if(s!==null)this.fileNameStr=s;else{var a=d.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var E=d.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var s=new w(r.value);return s.readInt(1)!==1||p.crc32(this.fileName)!==s.readInt(4)?null:p.utf8decode(s.readString(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var s=new w(r.value);return s.readInt(1)!==1||p.crc32(this.fileComment)!==s.readInt(4)?null:p.utf8decode(s.readString(r.length-5))}return null}},F.exports=_},{"./compressedObject":3,"./object":14,"./stringReader":16,"./support":18,"./utils":22}],25:[function(z,F,m){var _=z("./lib/utils/common").assign,w=z("./lib/deflate"),d=z("./lib/inflate"),g=z("./lib/zlib/constants"),p={};_(p,w,d,g),F.exports=p},{"./lib/deflate":26,"./lib/inflate":27,"./lib/utils/common":28,"./lib/zlib/constants":31}],26:[function(z,F,m){function _(Y){if(!(this instanceof _))return new _(Y);this.options=f.assign({level:N,method:Q,chunkSize:16384,windowBits:15,memLevel:8,strategy:L,to:""},Y||{});var O=this.options;O.raw&&O.windowBits>0?O.windowBits=-O.windowBits:O.gzip&&O.windowBits>0&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var J=p.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(J!==E)throw new Error(v[J]);if(O.header&&p.deflateSetHeader(this.strm,O.header),O.dictionary){var X;if(X=typeof O.dictionary=="string"?y.string2buf(O.dictionary):s.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,J=p.deflateSetDictionary(this.strm,X),J!==E)throw new Error(v[J]);this._dict_set=!0}}function w(Y,O){var J=new _(O);if(J.push(Y,!0),J.err)throw J.msg;return J.result}function d(Y,O){return O=O||{},O.raw=!0,w(Y,O)}function g(Y,O){return O=O||{},O.gzip=!0,w(Y,O)}var p=z("./zlib/deflate"),f=z("./utils/common"),y=z("./utils/strings"),v=z("./zlib/messages"),r=z("./zlib/zstream"),s=Object.prototype.toString,a=0,k=4,E=0,I=1,K=2,N=-1,L=0,Q=8;_.prototype.push=function(Y,O){var J,X,R=this.strm,W=this.options.chunkSize;if(this.ended)return!1;X=O===~~O?O:O===!0?k:a,typeof Y=="string"?R.input=y.string2buf(Y):s.call(Y)==="[object ArrayBuffer]"?R.input=new Uint8Array(Y):R.input=Y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new f.Buf8(W),R.next_out=0,R.avail_out=W),J=p.deflate(R,X),J!==I&&J!==E)return this.onEnd(J),this.ended=!0,!1;R.avail_out!==0&&(R.avail_in!==0||X!==k&&X!==K)||(this.options.to==="string"?this.onData(y.buf2binstring(f.shrinkBuf(R.output,R.next_out))):this.onData(f.shrinkBuf(R.output,R.next_out)))}while((R.avail_in>0||R.avail_out===0)&&J!==I);return X===k?(J=p.deflateEnd(this.strm),this.onEnd(J),this.ended=!0,J===E):X!==K||(this.onEnd(E),R.avail_out=0,!0)},_.prototype.onData=function(Y){this.chunks.push(Y)},_.prototype.onEnd=function(Y){Y===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=Y,this.msg=this.strm.msg},m.Deflate=_,m.deflate=w,m.deflateRaw=d,m.gzip=g},{"./utils/common":28,"./utils/strings":29,"./zlib/deflate":33,"./zlib/messages":38,"./zlib/zstream":40}],27:[function(z,F,m){function _(k){if(!(this instanceof _))return new _(k);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},k||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(E.windowBits>=0&&E.windowBits<16)||k&&k.windowBits||(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var I=g.inflateInit2(this.strm,E.windowBits);if(I!==y.Z_OK)throw new Error(v[I]);this.header=new s,g.inflateGetHeader(this.strm,this.header)}function w(k,E){var I=new _(E);if(I.push(k,!0),I.err)throw I.msg;return I.result}function d(k,E){return E=E||{},E.raw=!0,w(k,E)}var g=z("./zlib/inflate"),p=z("./utils/common"),f=z("./utils/strings"),y=z("./zlib/constants"),v=z("./zlib/messages"),r=z("./zlib/zstream"),s=z("./zlib/gzheader"),a=Object.prototype.toString;_.prototype.push=function(k,E){var I,K,N,L,Q,Y,O=this.strm,J=this.options.chunkSize,X=this.options.dictionary,R=!1;if(this.ended)return!1;K=E===~~E?E:E===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof k=="string"?O.input=f.binstring2buf(k):a.call(k)==="[object ArrayBuffer]"?O.input=new Uint8Array(k):O.input=k,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new p.Buf8(J),O.next_out=0,O.avail_out=J),I=g.inflate(O,y.Z_NO_FLUSH),I===y.Z_NEED_DICT&&X&&(Y=typeof X=="string"?f.string2buf(X):a.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,I=g.inflateSetDictionary(this.strm,Y)),I===y.Z_BUF_ERROR&&R===!0&&(I=y.Z_OK,R=!1),I!==y.Z_STREAM_END&&I!==y.Z_OK)return this.onEnd(I),this.ended=!0,!1;O.next_out&&(O.avail_out!==0&&I!==y.Z_STREAM_END&&(O.avail_in!==0||K!==y.Z_FINISH&&K!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=f.utf8border(O.output,O.next_out),L=O.next_out-N,Q=f.buf2string(O.output,N),O.next_out=L,O.avail_out=J-L,L&&p.arraySet(O.output,O.output,N,L,0),this.onData(Q)):this.onData(p.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(R=!0)}while((O.avail_in>0||O.avail_out===0)&&I!==y.Z_STREAM_END);return I===y.Z_STREAM_END&&(K=y.Z_FINISH),K===y.Z_FINISH?(I=g.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===y.Z_OK):K!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),O.avail_out=0,!0)},_.prototype.onData=function(k){this.chunks.push(k)},_.prototype.onEnd=function(k){k===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},m.Inflate=_,m.inflate=w,m.inflateRaw=d,m.ungzip=w},{"./utils/common":28,"./utils/strings":29,"./zlib/constants":31,"./zlib/gzheader":34,"./zlib/inflate":36,"./zlib/messages":38,"./zlib/zstream":40}],28:[function(z,F,m){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(g){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var f=p.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var y in f)f.hasOwnProperty(y)&&(g[y]=f[y])}}return g},m.shrinkBuf=function(g,p){return g.length===p?g:g.subarray?g.subarray(0,p):(g.length=p,g)};var w={arraySet:function(g,p,f,y,v){if(p.subarray&&g.subarray)return void g.set(p.subarray(f,f+y),v);for(var r=0;r<y;r++)g[v+r]=p[f+r]},flattenChunks:function(g){var p,f,y,v,r,s;for(y=0,p=0,f=g.length;p<f;p++)y+=g[p].length;for(s=new Uint8Array(y),v=0,p=0,f=g.length;p<f;p++)r=g[p],s.set(r,v),v+=r.length;return s}},d={arraySet:function(g,p,f,y,v){for(var r=0;r<y;r++)g[v+r]=p[f+r]},flattenChunks:function(g){return[].concat.apply([],g)}};m.setTyped=function(g){g?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,w)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,d))},m.setTyped(_)},{}],29:[function(z,F,m){function _(y,v){if(v<65537&&(y.subarray&&g||!y.subarray&&d))return String.fromCharCode.apply(null,w.shrinkBuf(y,v));for(var r="",s=0;s<v;s++)r+=String.fromCharCode(y[s]);return r}var w=z("./common"),d=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var p=new w.Buf8(256),f=0;f<256;f++)p[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;p[254]=p[254]=1,m.string2buf=function(y){var v,r,s,a,k,E=y.length,I=0;for(a=0;a<E;a++)r=y.charCodeAt(a),(64512&r)===55296&&a+1<E&&(s=y.charCodeAt(a+1),(64512&s)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),I+=r<128?1:r<2048?2:r<65536?3:4;for(v=new w.Buf8(I),k=0,a=0;k<I;a++)r=y.charCodeAt(a),(64512&r)===55296&&a+1<E&&(s=y.charCodeAt(a+1),(64512&s)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?v[k++]=r:r<2048?(v[k++]=192|r>>>6,v[k++]=128|63&r):r<65536?(v[k++]=224|r>>>12,v[k++]=128|r>>>6&63,v[k++]=128|63&r):(v[k++]=240|r>>>18,v[k++]=128|r>>>12&63,v[k++]=128|r>>>6&63,v[k++]=128|63&r);return v},m.buf2binstring=function(y){return _(y,y.length)},m.binstring2buf=function(y){for(var v=new w.Buf8(y.length),r=0,s=v.length;r<s;r++)v[r]=y.charCodeAt(r);return v},m.buf2string=function(y,v){var r,s,a,k,E=v||y.length,I=new Array(2*E);for(s=0,r=0;r<E;)if(a=y[r++],a<128)I[s++]=a;else if(k=p[a],k>4)I[s++]=65533,r+=k-1;else{for(a&=k===2?31:k===3?15:7;k>1&&r<E;)a=a<<6|63&y[r++],k--;k>1?I[s++]=65533:a<65536?I[s++]=a:(a-=65536,I[s++]=55296|a>>10&1023,I[s++]=56320|1023&a)}return _(I,s)},m.utf8border=function(y,v){var r;for(v=v||y.length,v>y.length&&(v=y.length),r=v-1;r>=0&&(192&y[r])===128;)r--;return r<0||r===0?v:r+p[y[r]]>v?r:v}},{"./common":28}],30:[function(z,F,m){function _(w,d,g,p){for(var f=65535&w|0,y=w>>>16&65535|0,v=0;g!==0;){v=g>2e3?2e3:g,g-=v;do f=f+d[p++]|0,y=y+f|0;while(--v);f%=65521,y%=65521}return f|y<<16|0}F.exports=_},{}],31:[function(z,F,m){F.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(z,F,m){function _(){for(var g,p=[],f=0;f<256;f++){g=f;for(var y=0;y<8;y++)g=1&g?3988292384^g>>>1:g>>>1;p[f]=g}return p}function w(g,p,f,y){var v=d,r=y+f;g^=-1;for(var s=y;s<r;s++)g=g>>>8^v[255&(g^p[s])];return g^-1}var d=_();F.exports=w},{}],33:[function(z,F,m){function _(t,S){return t.msg=P[S],S}function w(t){return(t<<1)-(t>4?9:0)}function d(t){for(var S=t.length;--S>=0;)t[S]=0}function g(t){var S=t.state,h=S.pending;h>t.avail_out&&(h=t.avail_out),h!==0&&(c.arraySet(t.output,S.pending_buf,S.pending_out,h,t.next_out),t.next_out+=h,S.pending_out+=h,t.total_out+=h,t.avail_out-=h,S.pending-=h,S.pending===0&&(S.pending_out=0))}function p(t,S){x._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,S),t.block_start=t.strstart,g(t.strm)}function f(t,S){t.pending_buf[t.pending++]=S}function y(t,S){t.pending_buf[t.pending++]=S>>>8&255,t.pending_buf[t.pending++]=255&S}function v(t,S,h,i){var l=t.avail_in;return l>i&&(l=i),l===0?0:(t.avail_in-=l,c.arraySet(S,t.input,t.next_in,l,h),t.state.wrap===1?t.adler=C(t.adler,S,l,h):t.state.wrap===2&&(t.adler=M(t.adler,S,l,h)),t.next_in+=l,t.total_in+=l,l)}function r(t,S){var h,i,l=t.max_chain_length,u=t.strstart,j=t.prev_length,U=t.nice_match,Z=t.strstart>t.w_size-yt?t.strstart-(t.w_size-yt):0,tt=t.window,Lt=t.w_mask,rt=t.prev,gt=t.strstart+Ct,zt=tt[u+j-1],kt=tt[u+j];t.prev_length>=t.good_match&&(l>>=2),U>t.lookahead&&(U=t.lookahead);do if(h=S,tt[h+j]===kt&&tt[h+j-1]===zt&&tt[h]===tt[u]&&tt[++h]===tt[u+1]){u+=2,h++;do;while(tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&tt[++u]===tt[++h]&&u<gt);if(i=Ct-(gt-u),u=gt-Ct,i>j){if(t.match_start=S,j=i,i>=U)break;zt=tt[u+j-1],kt=tt[u+j]}}while((S=rt[S&Lt])>Z&&--l!==0);return j<=t.lookahead?j:t.lookahead}function s(t){var S,h,i,l,u,j=t.w_size;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=j+(j-yt)){c.arraySet(t.window,t.window,j,j,0),t.match_start-=j,t.strstart-=j,t.block_start-=j,h=t.hash_size,S=h;do i=t.head[--S],t.head[S]=i>=j?i-j:0;while(--h);h=j,S=h;do i=t.prev[--S],t.prev[S]=i>=j?i-j:0;while(--h);l+=j}if(t.strm.avail_in===0)break;if(h=v(t.strm,t.window,t.strstart+t.lookahead,l),t.lookahead+=h,t.lookahead+t.insert>=G)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+G-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<G)););}while(t.lookahead<yt&&t.strm.avail_in!==0)}function a(t,S){var h=65535;for(h>t.pending_buf_size-5&&(h=t.pending_buf_size-5);;){if(t.lookahead<=1){if(s(t),t.lookahead===0&&S===V)return o;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+h;if((t.strstart===0||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,p(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-yt&&(p(t,!1),t.strm.avail_out===0))return o}return t.insert=0,S===et?(p(t,!0),t.strm.avail_out===0?e:B):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out===0),o)}function k(t,S){for(var h,i;;){if(t.lookahead<yt){if(s(t),t.lookahead<yt&&S===V)return o;if(t.lookahead===0)break}if(h=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,h=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),h!==0&&t.strstart-h<=t.w_size-yt&&(t.match_length=r(t,h)),t.match_length>=G)if(i=x._tr_tally(t,t.strstart-t.match_start,t.match_length-G),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=G){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,h=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(p(t,!1),t.strm.avail_out===0))return o}return t.insert=t.strstart<G-1?t.strstart:G-1,S===et?(p(t,!0),t.strm.avail_out===0?e:B):t.last_lit&&(p(t,!1),t.strm.avail_out===0)?o:b}function E(t,S){for(var h,i,l;;){if(t.lookahead<yt){if(s(t),t.lookahead<yt&&S===V)return o;if(t.lookahead===0)break}if(h=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,h=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=G-1,h!==0&&t.prev_length<t.max_lazy_match&&t.strstart-h<=t.w_size-yt&&(t.match_length=r(t,h),t.match_length<=5&&(t.strategy===pt||t.match_length===G&&t.strstart-t.match_start>4096)&&(t.match_length=G-1)),t.prev_length>=G&&t.match_length<=t.prev_length){l=t.strstart+t.lookahead-G,i=x._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-G),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,h=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=G-1,t.strstart++,i&&(p(t,!1),t.strm.avail_out===0))return o}else if(t.match_available){if(i=x._tr_tally(t,0,t.window[t.strstart-1]),i&&p(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return o}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=x._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<G-1?t.strstart:G-1,S===et?(p(t,!0),t.strm.avail_out===0?e:B):t.last_lit&&(p(t,!1),t.strm.avail_out===0)?o:b}function I(t,S){for(var h,i,l,u,j=t.window;;){if(t.lookahead<=Ct){if(s(t),t.lookahead<=Ct&&S===V)return o;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=G&&t.strstart>0&&(l=t.strstart-1,i=j[l],i===j[++l]&&i===j[++l]&&i===j[++l])){u=t.strstart+Ct;do;while(i===j[++l]&&i===j[++l]&&i===j[++l]&&i===j[++l]&&i===j[++l]&&i===j[++l]&&i===j[++l]&&i===j[++l]&&l<u);t.match_length=Ct-(u-l),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=G?(h=x._tr_tally(t,1,t.match_length-G),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(h=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),h&&(p(t,!1),t.strm.avail_out===0))return o}return t.insert=0,S===et?(p(t,!0),t.strm.avail_out===0?e:B):t.last_lit&&(p(t,!1),t.strm.avail_out===0)?o:b}function K(t,S){for(var h;;){if(t.lookahead===0&&(s(t),t.lookahead===0)){if(S===V)return o;break}if(t.match_length=0,h=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,h&&(p(t,!1),t.strm.avail_out===0))return o}return t.insert=0,S===et?(p(t,!0),t.strm.avail_out===0?e:B):t.last_lit&&(p(t,!1),t.strm.avail_out===0)?o:b}function N(t,S,h,i,l){this.good_length=t,this.max_lazy=S,this.nice_length=h,this.max_chain=i,this.func=l}function L(t){t.window_size=2*t.w_size,d(t.head),t.max_lazy_match=$[t.level].max_lazy,t.good_match=$[t.level].good_length,t.nice_match=$[t.level].nice_length,t.max_chain_length=$[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=G-1,t.match_available=0,t.ins_h=0}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*Mt),this.dyn_dtree=new c.Buf16(2*(2*Xt+1)),this.bl_tree=new c.Buf16(2*(2*At+1)),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Ut+1),this.heap=new c.Buf16(2*jt+1),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*jt+1),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(t){var S;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=It,S=t.state,S.pending=0,S.pending_out=0,S.wrap<0&&(S.wrap=-S.wrap),S.status=S.wrap?Rt:T,t.adler=S.wrap===2?0:1,S.last_flush=V,x._tr_init(S),dt):_(t,nt)}function O(t){var S=Y(t);return S===dt&&L(t.state),S}function J(t,S){return t&&t.state?t.state.wrap!==2?nt:(t.state.gzhead=S,dt):nt}function X(t,S,h,i,l,u){if(!t)return nt;var j=1;if(S===ft&&(S=6),i<0?(j=0,i=-i):i>15&&(j=2,i-=16),l<1||l>Dt||h!==Et||i<8||i>15||S<0||S>9||u<0||u>St)return _(t,nt);i===8&&(i=9);var U=new Q;return t.state=U,U.strm=t,U.wrap=j,U.gzhead=null,U.w_bits=i,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=l+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+G-1)/G),U.window=new c.Buf8(2*U.w_size),U.head=new c.Buf16(U.hash_size),U.prev=new c.Buf16(U.w_size),U.lit_bufsize=1<<l+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new c.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=S,U.strategy=u,U.method=h,O(t)}function R(t,S){return X(t,S,Et,_t,Nt,Ft)}function W(t,S){var h,i,l,u;if(!t||!t.state||S>at||S<0)return t?_(t,nt):nt;if(i=t.state,!t.output||!t.input&&t.avail_in!==0||i.status===D&&S!==et)return _(t,t.avail_out===0?it:nt);if(i.strm=t,h=i.last_flush,i.last_flush=S,i.status===Rt)if(i.wrap===2)t.adler=0,f(i,31),f(i,139),f(i,8),i.gzhead?(f(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),f(i,255&i.gzhead.time),f(i,i.gzhead.time>>8&255),f(i,i.gzhead.time>>16&255),f(i,i.gzhead.time>>24&255),f(i,i.level===9?2:i.strategy>=bt||i.level<2?4:0),f(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(f(i,255&i.gzhead.extra.length),f(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=M(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Vt):(f(i,0),f(i,0),f(i,0),f(i,0),f(i,0),f(i,i.level===9?2:i.strategy>=bt||i.level<2?4:0),f(i,H),i.status=T);else{var j=Et+(i.w_bits-8<<4)<<8,U=-1;U=i.strategy>=bt||i.level<2?0:i.level<6?1:i.level===6?2:3,j|=U<<6,i.strstart!==0&&(j|=st),j+=31-j%31,i.status=T,y(i,j),i.strstart!==0&&(y(i,t.adler>>>16),y(i,65535&t.adler)),t.adler=1}if(i.status===Vt)if(i.gzhead.extra){for(l=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),g(t),l=i.pending,i.pending!==i.pending_buf_size));)f(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Pt)}else i.status=Pt;if(i.status===Pt)if(i.gzhead.name){l=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),g(t),l=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,f(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),u===0&&(i.gzindex=0,i.status=n)}else i.status=n;if(i.status===n)if(i.gzhead.comment){l=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),g(t),l=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,f(i,u)}while(u!==0);i.gzhead.hcrc&&i.pending>l&&(t.adler=M(t.adler,i.pending_buf,i.pending-l,l)),u===0&&(i.status=A)}else i.status=A;if(i.status===A&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(t),i.pending+2<=i.pending_buf_size&&(f(i,255&t.adler),f(i,t.adler>>8&255),t.adler=0,i.status=T)):i.status=T),i.pending!==0){if(g(t),t.avail_out===0)return i.last_flush=-1,dt}else if(t.avail_in===0&&w(S)<=w(h)&&S!==et)return _(t,it);if(i.status===D&&t.avail_in!==0)return _(t,it);if(t.avail_in!==0||i.lookahead!==0||S!==V&&i.status!==D){var Z=i.strategy===bt?K(i,S):i.strategy===ut?I(i,S):$[i.level].func(i,S);if(Z!==e&&Z!==B||(i.status=D),Z===o||Z===e)return t.avail_out===0&&(i.last_flush=-1),dt;if(Z===b&&(S===ot?x._tr_align(i):S!==at&&(x._tr_stored_block(i,0,0,!1),S===lt&&(d(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),g(t),t.avail_out===0))return i.last_flush=-1,dt}return S!==et?dt:i.wrap<=0?ht:(i.wrap===2?(f(i,255&t.adler),f(i,t.adler>>8&255),f(i,t.adler>>16&255),f(i,t.adler>>24&255),f(i,255&t.total_in),f(i,t.total_in>>8&255),f(i,t.total_in>>16&255),f(i,t.total_in>>24&255)):(y(i,t.adler>>>16),y(i,65535&t.adler)),g(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?dt:ht)}function ct(t){var S;return t&&t.state?(S=t.state.status,S!==Rt&&S!==Vt&&S!==Pt&&S!==n&&S!==A&&S!==T&&S!==D?_(t,nt):(t.state=null,S===T?_(t,mt):dt)):nt}function q(t,S){var h,i,l,u,j,U,Z,tt,Lt=S.length;if(!t||!t.state||(h=t.state,u=h.wrap,u===2||u===1&&h.status!==Rt||h.lookahead))return nt;for(u===1&&(t.adler=C(t.adler,S,Lt,0)),h.wrap=0,Lt>=h.w_size&&(u===0&&(d(h.head),h.strstart=0,h.block_start=0,h.insert=0),tt=new c.Buf8(h.w_size),c.arraySet(tt,S,Lt-h.w_size,h.w_size,0),S=tt,Lt=h.w_size),j=t.avail_in,U=t.next_in,Z=t.input,t.avail_in=Lt,t.next_in=0,t.input=S,s(h);h.lookahead>=G;){i=h.strstart,l=h.lookahead-(G-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[i+G-1])&h.hash_mask,h.prev[i&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=i,i++;while(--l);h.strstart=i,h.lookahead=G-1,s(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=G-1,h.match_available=0,t.next_in=U,t.input=Z,t.avail_in=j,h.wrap=u,dt}var $,c=z("../utils/common"),x=z("./trees"),C=z("./adler32"),M=z("./crc32"),P=z("./messages"),V=0,ot=1,lt=3,et=4,at=5,dt=0,ht=1,nt=-2,mt=-3,it=-5,ft=-1,pt=1,bt=2,ut=3,St=4,Ft=0,It=2,Et=8,Dt=9,_t=15,Nt=8,Bt=29,Ht=256,jt=Ht+1+Bt,Xt=30,At=19,Mt=2*jt+1,Ut=15,G=3,Ct=258,yt=Ct+G+1,st=32,Rt=42,Vt=69,Pt=73,n=91,A=103,T=113,D=666,o=1,b=2,e=3,B=4,H=3;$=[new N(0,0,0,0,a),new N(4,4,8,4,k),new N(4,5,16,8,k),new N(4,6,32,32,k),new N(4,4,16,16,E),new N(8,16,32,32,E),new N(8,16,128,128,E),new N(8,32,128,256,E),new N(32,128,258,1024,E),new N(32,258,258,4096,E)],m.deflateInit=R,m.deflateInit2=X,m.deflateReset=O,m.deflateResetKeep=Y,m.deflateSetHeader=J,m.deflate=W,m.deflateEnd=ct,m.deflateSetDictionary=q,m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./messages":38,"./trees":39}],34:[function(z,F,m){function _(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}F.exports=_},{}],35:[function(z,F,m){var _=30,w=12;F.exports=function(d,g){var p,f,y,v,r,s,a,k,E,I,K,N,L,Q,Y,O,J,X,R,W,ct,q,$,c,x;p=d.state,f=d.next_in,c=d.input,y=f+(d.avail_in-5),v=d.next_out,x=d.output,r=v-(g-d.avail_out),s=v+(d.avail_out-257),a=p.dmax,k=p.wsize,E=p.whave,I=p.wnext,K=p.window,N=p.hold,L=p.bits,Q=p.lencode,Y=p.distcode,O=(1<<p.lenbits)-1,J=(1<<p.distbits)-1;t:do{L<15&&(N+=c[f++]<<L,L+=8,N+=c[f++]<<L,L+=8),X=Q[N&O];e:for(;;){if(R=X>>>24,N>>>=R,L-=R,R=X>>>16&255,R===0)x[v++]=65535&X;else{if(!(16&R)){if(!(64&R)){X=Q[(65535&X)+(N&(1<<R)-1)];continue e}if(32&R){p.mode=w;break t}d.msg="invalid literal/length code",p.mode=_;break t}W=65535&X,R&=15,R&&(L<R&&(N+=c[f++]<<L,L+=8),W+=N&(1<<R)-1,N>>>=R,L-=R),L<15&&(N+=c[f++]<<L,L+=8,N+=c[f++]<<L,L+=8),X=Y[N&J];r:for(;;){if(R=X>>>24,N>>>=R,L-=R,R=X>>>16&255,!(16&R)){if(!(64&R)){X=Y[(65535&X)+(N&(1<<R)-1)];continue r}d.msg="invalid distance code",p.mode=_;break t}if(ct=65535&X,R&=15,L<R&&(N+=c[f++]<<L,L+=8,L<R&&(N+=c[f++]<<L,L+=8)),ct+=N&(1<<R)-1,ct>a){d.msg="invalid distance too far back",p.mode=_;break t}if(N>>>=R,L-=R,R=v-r,ct>R){if(R=ct-R,R>E&&p.sane){d.msg="invalid distance too far back",p.mode=_;break t}if(q=0,$=K,I===0){if(q+=k-R,R<W){W-=R;do x[v++]=K[q++];while(--R);q=v-ct,$=x}}else if(I<R){if(q+=k+I-R,R-=I,R<W){W-=R;do x[v++]=K[q++];while(--R);if(q=0,I<W){R=I,W-=R;do x[v++]=K[q++];while(--R);q=v-ct,$=x}}}else if(q+=I-R,R<W){W-=R;do x[v++]=K[q++];while(--R);q=v-ct,$=x}for(;W>2;)x[v++]=$[q++],x[v++]=$[q++],x[v++]=$[q++],W-=3;W&&(x[v++]=$[q++],W>1&&(x[v++]=$[q++]))}else{q=v-ct;do x[v++]=x[q++],x[v++]=x[q++],x[v++]=x[q++],W-=3;while(W>2);W&&(x[v++]=x[q++],W>1&&(x[v++]=x[q++]))}break}}break}}while(f<y&&v<s);W=L>>3,f-=W,L-=W<<3,N&=(1<<L)-1,d.next_in=f,d.next_out=v,d.avail_in=f<y?5+(y-f):5-(f-y),d.avail_out=v<s?257+(s-v):257-(v-s),p.hold=N,p.bits=L}},{}],36:[function(z,F,m){function _(o){return(o>>>24&255)+(o>>>8&65280)+((65280&o)<<8)+((255&o)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new N.Buf16(320),this.work=new N.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(o){var b;return o&&o.state?(b=o.state,o.total_in=o.total_out=b.total=0,o.msg="",b.wrap&&(o.adler=1&b.wrap),b.mode=lt,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new N.Buf32(Pt),b.distcode=b.distdyn=new N.Buf32(n),b.sane=1,b.back=-1,$):C}function g(o){var b;return o&&o.state?(b=o.state,b.wsize=0,b.whave=0,b.wnext=0,d(o)):C}function p(o,b){var e,B;return o&&o.state?(B=o.state,b<0?(e=0,b=-b):(e=(b>>4)+1,b<48&&(b&=15)),b&&(b<8||b>15)?C:(B.window!==null&&B.wbits!==b&&(B.window=null),B.wrap=e,B.wbits=b,g(o))):C}function f(o,b){var e,B;return o?(B=new w,o.state=B,B.window=null,e=p(o,b),e!==$&&(o.state=null),e):C}function y(o){return f(o,T)}function v(o){if(D){var b;for(I=new N.Buf32(512),K=new N.Buf32(32),b=0;b<144;)o.lens[b++]=8;for(;b<256;)o.lens[b++]=9;for(;b<280;)o.lens[b++]=7;for(;b<288;)o.lens[b++]=8;for(O(X,o.lens,0,288,I,0,o.work,{bits:9}),b=0;b<32;)o.lens[b++]=5;O(R,o.lens,0,32,K,0,o.work,{bits:5}),D=!1}o.lencode=I,o.lenbits=9,o.distcode=K,o.distbits=5}function r(o,b,e,B){var H,t=o.state;return t.window===null&&(t.wsize=1<<t.wbits,t.wnext=0,t.whave=0,t.window=new N.Buf8(t.wsize)),B>=t.wsize?(N.arraySet(t.window,b,e-t.wsize,t.wsize,0),t.wnext=0,t.whave=t.wsize):(H=t.wsize-t.wnext,H>B&&(H=B),N.arraySet(t.window,b,e-B,H,t.wnext),B-=H,B?(N.arraySet(t.window,b,e-B,B,0),t.wnext=B,t.whave=t.wsize):(t.wnext+=H,t.wnext===t.wsize&&(t.wnext=0),t.whave<t.wsize&&(t.whave+=H))),0}function s(o,b){var e,B,H,t,S,h,i,l,u,j,U,Z,tt,Lt,rt,gt,zt,kt,Jt,Wt,wt,Ot,Kt,Zt,vt=0,xt=new N.Buf8(4),Qt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!o||!o.state||!o.output||!o.input&&o.avail_in!==0)return C;e=o.state,e.mode===ut&&(e.mode=St),S=o.next_out,H=o.output,i=o.avail_out,t=o.next_in,B=o.input,h=o.avail_in,l=e.hold,u=e.bits,j=h,U=i,Ot=$;t:for(;;)switch(e.mode){case lt:if(e.wrap===0){e.mode=St;break}for(;u<16;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(2&e.wrap&&l===35615){e.check=0,xt[0]=255&l,xt[1]=l>>>8&255,e.check=Q(e.check,xt,2,0),l=0,u=0,e.mode=et;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&l)<<8)+(l>>8))%31){o.msg="incorrect header check",e.mode=st;break}if((15&l)!==ot){o.msg="unknown compression method",e.mode=st;break}if(l>>>=4,u-=4,wt=(15&l)+8,e.wbits===0)e.wbits=wt;else if(wt>e.wbits){o.msg="invalid window size",e.mode=st;break}e.dmax=1<<wt,o.adler=e.check=1,e.mode=512&l?pt:ut,l=0,u=0;break;case et:for(;u<16;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(e.flags=l,(255&e.flags)!==ot){o.msg="unknown compression method",e.mode=st;break}if(57344&e.flags){o.msg="unknown header flags set",e.mode=st;break}e.head&&(e.head.text=l>>8&1),512&e.flags&&(xt[0]=255&l,xt[1]=l>>>8&255,e.check=Q(e.check,xt,2,0)),l=0,u=0,e.mode=at;case at:for(;u<32;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.head&&(e.head.time=l),512&e.flags&&(xt[0]=255&l,xt[1]=l>>>8&255,xt[2]=l>>>16&255,xt[3]=l>>>24&255,e.check=Q(e.check,xt,4,0)),l=0,u=0,e.mode=dt;case dt:for(;u<16;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.head&&(e.head.xflags=255&l,e.head.os=l>>8),512&e.flags&&(xt[0]=255&l,xt[1]=l>>>8&255,e.check=Q(e.check,xt,2,0)),l=0,u=0,e.mode=ht;case ht:if(1024&e.flags){for(;u<16;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.length=l,e.head&&(e.head.extra_len=l),512&e.flags&&(xt[0]=255&l,xt[1]=l>>>8&255,e.check=Q(e.check,xt,2,0)),l=0,u=0}else e.head&&(e.head.extra=null);e.mode=nt;case nt:if(1024&e.flags&&(Z=e.length,Z>h&&(Z=h),Z&&(e.head&&(wt=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),N.arraySet(e.head.extra,B,t,Z,wt)),512&e.flags&&(e.check=Q(e.check,B,Z,t)),h-=Z,t+=Z,e.length-=Z),e.length))break t;e.length=0,e.mode=mt;case mt:if(2048&e.flags){if(h===0)break t;Z=0;do wt=B[t+Z++],e.head&&wt&&e.length<65536&&(e.head.name+=String.fromCharCode(wt));while(wt&&Z<h);if(512&e.flags&&(e.check=Q(e.check,B,Z,t)),h-=Z,t+=Z,wt)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=it;case it:if(4096&e.flags){if(h===0)break t;Z=0;do wt=B[t+Z++],e.head&&wt&&e.length<65536&&(e.head.comment+=String.fromCharCode(wt));while(wt&&Z<h);if(512&e.flags&&(e.check=Q(e.check,B,Z,t)),h-=Z,t+=Z,wt)break t}else e.head&&(e.head.comment=null);e.mode=ft;case ft:if(512&e.flags){for(;u<16;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(l!==(65535&e.check)){o.msg="header crc mismatch",e.mode=st;break}l=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),o.adler=e.check=0,e.mode=ut;break;case pt:for(;u<32;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}o.adler=e.check=_(l),l=0,u=0,e.mode=bt;case bt:if(e.havedict===0)return o.next_out=S,o.avail_out=i,o.next_in=t,o.avail_in=h,e.hold=l,e.bits=u,x;o.adler=e.check=1,e.mode=ut;case ut:if(b===ct||b===q)break t;case St:if(e.last){l>>>=7&u,u-=7&u,e.mode=G;break}for(;u<3;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}switch(e.last=1&l,l>>>=1,u-=1,3&l){case 0:e.mode=Ft;break;case 1:if(v(e),e.mode=Bt,b===q){l>>>=2,u-=2;break t}break;case 2:e.mode=Dt;break;case 3:o.msg="invalid block type",e.mode=st}l>>>=2,u-=2;break;case Ft:for(l>>>=7&u,u-=7&u;u<32;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if((65535&l)!==(l>>>16^65535)){o.msg="invalid stored block lengths",e.mode=st;break}if(e.length=65535&l,l=0,u=0,e.mode=It,b===q)break t;case It:e.mode=Et;case Et:if(Z=e.length){if(Z>h&&(Z=h),Z>i&&(Z=i),Z===0)break t;N.arraySet(H,B,t,Z,S),h-=Z,t+=Z,i-=Z,S+=Z,e.length-=Z;break}e.mode=ut;break;case Dt:for(;u<14;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(e.nlen=(31&l)+257,l>>>=5,u-=5,e.ndist=(31&l)+1,l>>>=5,u-=5,e.ncode=(15&l)+4,l>>>=4,u-=4,e.nlen>286||e.ndist>30){o.msg="too many length or distance symbols",e.mode=st;break}e.have=0,e.mode=_t;case _t:for(;e.have<e.ncode;){for(;u<3;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.lens[Qt[e.have++]]=7&l,l>>>=3,u-=3}for(;e.have<19;)e.lens[Qt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Kt={bits:e.lenbits},Ot=O(J,e.lens,0,19,e.lencode,0,e.work,Kt),e.lenbits=Kt.bits,Ot){o.msg="invalid code lengths set",e.mode=st;break}e.have=0,e.mode=Nt;case Nt:for(;e.have<e.nlen+e.ndist;){for(;vt=e.lencode[l&(1<<e.lenbits)-1],rt=vt>>>24,gt=vt>>>16&255,zt=65535&vt,!(rt<=u);){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(zt<16)l>>>=rt,u-=rt,e.lens[e.have++]=zt;else{if(zt===16){for(Zt=rt+2;u<Zt;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(l>>>=rt,u-=rt,e.have===0){o.msg="invalid bit length repeat",e.mode=st;break}wt=e.lens[e.have-1],Z=3+(3&l),l>>>=2,u-=2}else if(zt===17){for(Zt=rt+3;u<Zt;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}l>>>=rt,u-=rt,wt=0,Z=3+(7&l),l>>>=3,u-=3}else{for(Zt=rt+7;u<Zt;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}l>>>=rt,u-=rt,wt=0,Z=11+(127&l),l>>>=7,u-=7}if(e.have+Z>e.nlen+e.ndist){o.msg="invalid bit length repeat",e.mode=st;break}for(;Z--;)e.lens[e.have++]=wt}}if(e.mode===st)break;if(e.lens[256]===0){o.msg="invalid code -- missing end-of-block",e.mode=st;break}if(e.lenbits=9,Kt={bits:e.lenbits},Ot=O(X,e.lens,0,e.nlen,e.lencode,0,e.work,Kt),e.lenbits=Kt.bits,Ot){o.msg="invalid literal/lengths set",e.mode=st;break}if(e.distbits=6,e.distcode=e.distdyn,Kt={bits:e.distbits},Ot=O(R,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Kt),e.distbits=Kt.bits,Ot){o.msg="invalid distances set",e.mode=st;break}if(e.mode=Bt,b===q)break t;case Bt:e.mode=Ht;case Ht:if(h>=6&&i>=258){o.next_out=S,o.avail_out=i,o.next_in=t,o.avail_in=h,e.hold=l,e.bits=u,Y(o,U),S=o.next_out,H=o.output,i=o.avail_out,t=o.next_in,B=o.input,h=o.avail_in,l=e.hold,u=e.bits,e.mode===ut&&(e.back=-1);break}for(e.back=0;vt=e.lencode[l&(1<<e.lenbits)-1],rt=vt>>>24,gt=vt>>>16&255,zt=65535&vt,!(rt<=u);){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(gt&&!(240&gt)){for(kt=rt,Jt=gt,Wt=zt;vt=e.lencode[Wt+((l&(1<<kt+Jt)-1)>>kt)],rt=vt>>>24,gt=vt>>>16&255,zt=65535&vt,!(kt+rt<=u);){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}l>>>=kt,u-=kt,e.back+=kt}if(l>>>=rt,u-=rt,e.back+=rt,e.length=zt,gt===0){e.mode=Ut;break}if(32&gt){e.back=-1,e.mode=ut;break}if(64&gt){o.msg="invalid literal/length code",e.mode=st;break}e.extra=15&gt,e.mode=jt;case jt:if(e.extra){for(Zt=e.extra;u<Zt;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Xt;case Xt:for(;vt=e.distcode[l&(1<<e.distbits)-1],rt=vt>>>24,gt=vt>>>16&255,zt=65535&vt,!(rt<=u);){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(!(240&gt)){for(kt=rt,Jt=gt,Wt=zt;vt=e.distcode[Wt+((l&(1<<kt+Jt)-1)>>kt)],rt=vt>>>24,gt=vt>>>16&255,zt=65535&vt,!(kt+rt<=u);){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}l>>>=kt,u-=kt,e.back+=kt}if(l>>>=rt,u-=rt,e.back+=rt,64&gt){o.msg="invalid distance code",e.mode=st;break}e.offset=zt,e.extra=15&gt,e.mode=At;case At:if(e.extra){for(Zt=e.extra;u<Zt;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){o.msg="invalid distance too far back",e.mode=st;break}e.mode=Mt;case Mt:if(i===0)break t;if(Z=U-i,e.offset>Z){if(Z=e.offset-Z,Z>e.whave&&e.sane){o.msg="invalid distance too far back",e.mode=st;break}Z>e.wnext?(Z-=e.wnext,tt=e.wsize-Z):tt=e.wnext-Z,Z>e.length&&(Z=e.length),Lt=e.window}else Lt=H,tt=S-e.offset,Z=e.length;Z>i&&(Z=i),i-=Z,e.length-=Z;do H[S++]=Lt[tt++];while(--Z);e.length===0&&(e.mode=Ht);break;case Ut:if(i===0)break t;H[S++]=e.length,i--,e.mode=Ht;break;case G:if(e.wrap){for(;u<32;){if(h===0)break t;h--,l|=B[t++]<<u,u+=8}if(U-=i,o.total_out+=U,e.total+=U,U&&(o.adler=e.check=e.flags?Q(e.check,H,U,S-U):L(e.check,H,U,S-U)),U=i,(e.flags?l:_(l))!==e.check){o.msg="incorrect data check",e.mode=st;break}l=0,u=0}e.mode=Ct;case Ct:if(e.wrap&&e.flags){for(;u<32;){if(h===0)break t;h--,l+=B[t++]<<u,u+=8}if(l!==(4294967295&e.total)){o.msg="incorrect length check",e.mode=st;break}l=0,u=0}e.mode=yt;case yt:Ot=c;break t;case st:Ot=M;break t;case Rt:return P;case Vt:default:return C}return o.next_out=S,o.avail_out=i,o.next_in=t,o.avail_in=h,e.hold=l,e.bits=u,(e.wsize||U!==o.avail_out&&e.mode<st&&(e.mode<G||b!==W))&&r(o,o.output,o.next_out,U-o.avail_out)?(e.mode=Rt,P):(j-=o.avail_in,U-=o.avail_out,o.total_in+=j,o.total_out+=U,e.total+=U,e.wrap&&U&&(o.adler=e.check=e.flags?Q(e.check,H,U,o.next_out-U):L(e.check,H,U,o.next_out-U)),o.data_type=e.bits+(e.last?64:0)+(e.mode===ut?128:0)+(e.mode===Bt||e.mode===It?256:0),(j===0&&U===0||b===W)&&Ot===$&&(Ot=V),Ot)}function a(o){if(!o||!o.state)return C;var b=o.state;return b.window&&(b.window=null),o.state=null,$}function k(o,b){var e;return o&&o.state?(e=o.state,2&e.wrap?(e.head=b,b.done=!1,$):C):C}function E(o,b){var e,B,H=b.length;return o&&o.state?(e=o.state,e.wrap!==0&&e.mode!==bt?C:e.mode===bt&&(B=1,B=L(B,b,H,0),B!==e.check)?M:r(o,b,H,H)?(e.mode=Rt,P):(e.havedict=1,$)):C}var I,K,N=z("../utils/common"),L=z("./adler32"),Q=z("./crc32"),Y=z("./inffast"),O=z("./inftrees"),J=0,X=1,R=2,W=4,ct=5,q=6,$=0,c=1,x=2,C=-2,M=-3,P=-4,V=-5,ot=8,lt=1,et=2,at=3,dt=4,ht=5,nt=6,mt=7,it=8,ft=9,pt=10,bt=11,ut=12,St=13,Ft=14,It=15,Et=16,Dt=17,_t=18,Nt=19,Bt=20,Ht=21,jt=22,Xt=23,At=24,Mt=25,Ut=26,G=27,Ct=28,yt=29,st=30,Rt=31,Vt=32,Pt=852,n=592,A=15,T=A,D=!0;m.inflateReset=g,m.inflateReset2=p,m.inflateResetKeep=d,m.inflateInit=y,m.inflateInit2=f,m.inflate=s,m.inflateEnd=a,m.inflateGetHeader=k,m.inflateSetDictionary=E,m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./inffast":35,"./inftrees":37}],37:[function(z,F,m){var _=z("../utils/common"),w=15,d=852,g=592,p=0,f=1,y=2,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];F.exports=function(k,E,I,K,N,L,Q,Y){var O,J,X,R,W,ct,q,$,c,x=Y.bits,C=0,M=0,P=0,V=0,ot=0,lt=0,et=0,at=0,dt=0,ht=0,nt=null,mt=0,it=new _.Buf16(w+1),ft=new _.Buf16(w+1),pt=null,bt=0;for(C=0;C<=w;C++)it[C]=0;for(M=0;M<K;M++)it[E[I+M]]++;for(ot=x,V=w;V>=1&&it[V]===0;V--);if(ot>V&&(ot=V),V===0)return N[L++]=20971520,N[L++]=20971520,Y.bits=1,0;for(P=1;P<V&&it[P]===0;P++);for(ot<P&&(ot=P),at=1,C=1;C<=w;C++)if(at<<=1,at-=it[C],at<0)return-1;if(at>0&&(k===p||V!==1))return-1;for(ft[1]=0,C=1;C<w;C++)ft[C+1]=ft[C]+it[C];for(M=0;M<K;M++)E[I+M]!==0&&(Q[ft[E[I+M]]++]=M);if(k===p?(nt=pt=Q,ct=19):k===f?(nt=v,mt-=257,pt=r,bt-=257,ct=256):(nt=s,pt=a,ct=-1),ht=0,M=0,C=P,W=L,lt=ot,et=0,X=-1,dt=1<<ot,R=dt-1,k===f&&dt>d||k===y&&dt>g)return 1;for(var ut=0;;){ut++,q=C-et,Q[M]<ct?($=0,c=Q[M]):Q[M]>ct?($=pt[bt+Q[M]],c=nt[mt+Q[M]]):($=96,c=0),O=1<<C-et,J=1<<lt,P=J;do J-=O,N[W+(ht>>et)+J]=q<<24|$<<16|c|0;while(J!==0);for(O=1<<C-1;ht&O;)O>>=1;if(O!==0?(ht&=O-1,ht+=O):ht=0,M++,--it[C]===0){if(C===V)break;C=E[I+Q[M]]}if(C>ot&&(ht&R)!==X){for(et===0&&(et=ot),W+=P,lt=C-et,at=1<<lt;lt+et<V&&(at-=it[lt+et],!(at<=0));)lt++,at<<=1;if(dt+=1<<lt,k===f&&dt>d||k===y&&dt>g)return 1;X=ht&R,N[X]=ot<<24|lt<<16|W-L|0}}return ht!==0&&(N[W+ht]=C-et<<24|64<<16|0),Y.bits=ot,0}},{"../utils/common":28}],38:[function(z,F,m){F.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],39:[function(z,F,m){function _(n){for(var A=n.length;--A>=0;)n[A]=0}function w(n,A,T,D,o){this.static_tree=n,this.extra_bits=A,this.extra_base=T,this.elems=D,this.max_length=o,this.has_stree=n&&n.length}function d(n,A){this.dyn_tree=n,this.max_code=0,this.stat_desc=A}function g(n){return n<256?Ut[n]:Ut[256+(n>>>7)]}function p(n,A){n.pending_buf[n.pending++]=255&A,n.pending_buf[n.pending++]=A>>>8&255}function f(n,A,T){n.bi_valid>St-T?(n.bi_buf|=A<<n.bi_valid&65535,p(n,n.bi_buf),n.bi_buf=A>>St-n.bi_valid,n.bi_valid+=T-St):(n.bi_buf|=A<<n.bi_valid&65535,n.bi_valid+=T)}function y(n,A,T){f(n,T[2*A],T[2*A+1])}function v(n,A){var T=0;do T|=1&n,n>>>=1,T<<=1;while(--A>0);return T>>>1}function r(n){n.bi_valid===16?(p(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)}function s(n,A){var T,D,o,b,e,B,H=A.dyn_tree,t=A.max_code,S=A.stat_desc.static_tree,h=A.stat_desc.has_stree,i=A.stat_desc.extra_bits,l=A.stat_desc.extra_base,u=A.stat_desc.max_length,j=0;for(b=0;b<=ut;b++)n.bl_count[b]=0;for(H[2*n.heap[n.heap_max]+1]=0,T=n.heap_max+1;T<bt;T++)D=n.heap[T],b=H[2*H[2*D+1]+1]+1,b>u&&(b=u,j++),H[2*D+1]=b,D>t||(n.bl_count[b]++,e=0,D>=l&&(e=i[D-l]),B=H[2*D],n.opt_len+=B*(b+e),h&&(n.static_len+=B*(S[2*D+1]+e)));if(j!==0){do{for(b=u-1;n.bl_count[b]===0;)b--;n.bl_count[b]--,n.bl_count[b+1]+=2,n.bl_count[u]--,j-=2}while(j>0);for(b=u;b!==0;b--)for(D=n.bl_count[b];D!==0;)o=n.heap[--T],o>t||(H[2*o+1]!==b&&(n.opt_len+=(b-H[2*o+1])*H[2*o],H[2*o+1]=b),D--)}}function a(n,A,T){var D,o,b=new Array(ut+1),e=0;for(D=1;D<=ut;D++)b[D]=e=e+T[D-1]<<1;for(o=0;o<=A;o++){var B=n[2*o+1];B!==0&&(n[2*o]=v(b[B]++,B))}}function k(){var n,A,T,D,o,b=new Array(ut+1);for(T=0,D=0;D<nt-1;D++)for(Ct[D]=T,n=0;n<1<<Nt[D];n++)G[T++]=D;for(G[T-1]=D,o=0,D=0;D<16;D++)for(yt[D]=o,n=0;n<1<<Bt[D];n++)Ut[o++]=D;for(o>>=7;D<ft;D++)for(yt[D]=o<<7,n=0;n<1<<Bt[D]-7;n++)Ut[256+o++]=D;for(A=0;A<=ut;A++)b[A]=0;for(n=0;n<=143;)At[2*n+1]=8,n++,b[8]++;for(;n<=255;)At[2*n+1]=9,n++,b[9]++;for(;n<=279;)At[2*n+1]=7,n++,b[7]++;for(;n<=287;)At[2*n+1]=8,n++,b[8]++;for(a(At,it+1,b),n=0;n<ft;n++)Mt[2*n+1]=5,Mt[2*n]=v(n,5);st=new w(At,Nt,mt+1,it,ut),Rt=new w(Mt,Bt,0,ft,ut),Vt=new w(new Array(0),Ht,0,pt,Ft)}function E(n){var A;for(A=0;A<it;A++)n.dyn_ltree[2*A]=0;for(A=0;A<ft;A++)n.dyn_dtree[2*A]=0;for(A=0;A<pt;A++)n.bl_tree[2*A]=0;n.dyn_ltree[2*It]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function I(n){n.bi_valid>8?p(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function K(n,A,T,D){I(n),D&&(p(n,T),p(n,~T)),C.arraySet(n.pending_buf,n.window,A,T,n.pending),n.pending+=T}function N(n,A,T,D){var o=2*A,b=2*T;return n[o]<n[b]||n[o]===n[b]&&D[A]<=D[T]}function L(n,A,T){for(var D=n.heap[T],o=T<<1;o<=n.heap_len&&(o<n.heap_len&&N(A,n.heap[o+1],n.heap[o],n.depth)&&o++,!N(A,D,n.heap[o],n.depth));)n.heap[T]=n.heap[o],T=o,o<<=1;n.heap[T]=D}function Q(n,A,T){var D,o,b,e,B=0;if(n.last_lit!==0)do D=n.pending_buf[n.d_buf+2*B]<<8|n.pending_buf[n.d_buf+2*B+1],o=n.pending_buf[n.l_buf+B],B++,D===0?y(n,o,A):(b=G[o],y(n,b+mt+1,A),e=Nt[b],e!==0&&(o-=Ct[b],f(n,o,e)),D--,b=g(D),y(n,b,T),e=Bt[b],e!==0&&(D-=yt[b],f(n,D,e)));while(B<n.last_lit);y(n,It,A)}function Y(n,A){var T,D,o,b=A.dyn_tree,e=A.stat_desc.static_tree,B=A.stat_desc.has_stree,H=A.stat_desc.elems,t=-1;for(n.heap_len=0,n.heap_max=bt,T=0;T<H;T++)b[2*T]!==0?(n.heap[++n.heap_len]=t=T,n.depth[T]=0):b[2*T+1]=0;for(;n.heap_len<2;)o=n.heap[++n.heap_len]=t<2?++t:0,b[2*o]=1,n.depth[o]=0,n.opt_len--,B&&(n.static_len-=e[2*o+1]);for(A.max_code=t,T=n.heap_len>>1;T>=1;T--)L(n,b,T);o=H;do T=n.heap[1],n.heap[1]=n.heap[n.heap_len--],L(n,b,1),D=n.heap[1],n.heap[--n.heap_max]=T,n.heap[--n.heap_max]=D,b[2*o]=b[2*T]+b[2*D],n.depth[o]=(n.depth[T]>=n.depth[D]?n.depth[T]:n.depth[D])+1,b[2*T+1]=b[2*D+1]=o,n.heap[1]=o++,L(n,b,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],s(n,A),a(b,t,n.bl_count)}function O(n,A,T){var D,o,b=-1,e=A[1],B=0,H=7,t=4;for(e===0&&(H=138,t=3),A[2*(T+1)+1]=65535,D=0;D<=T;D++)o=e,e=A[2*(D+1)+1],++B<H&&o===e||(B<t?n.bl_tree[2*o]+=B:o!==0?(o!==b&&n.bl_tree[2*o]++,n.bl_tree[2*Et]++):B<=10?n.bl_tree[2*Dt]++:n.bl_tree[2*_t]++,B=0,b=o,e===0?(H=138,t=3):o===e?(H=6,t=3):(H=7,t=4))}function J(n,A,T){var D,o,b=-1,e=A[1],B=0,H=7,t=4;for(e===0&&(H=138,t=3),D=0;D<=T;D++)if(o=e,e=A[2*(D+1)+1],!(++B<H&&o===e)){if(B<t)do y(n,o,n.bl_tree);while(--B!==0);else o!==0?(o!==b&&(y(n,o,n.bl_tree),B--),y(n,Et,n.bl_tree),f(n,B-3,2)):B<=10?(y(n,Dt,n.bl_tree),f(n,B-3,3)):(y(n,_t,n.bl_tree),f(n,B-11,7));B=0,b=o,e===0?(H=138,t=3):o===e?(H=6,t=3):(H=7,t=4)}}function X(n){var A;for(O(n,n.dyn_ltree,n.l_desc.max_code),O(n,n.dyn_dtree,n.d_desc.max_code),Y(n,n.bl_desc),A=pt-1;A>=3&&n.bl_tree[2*jt[A]+1]===0;A--);return n.opt_len+=3*(A+1)+5+5+4,A}function R(n,A,T,D){var o;for(f(n,A-257,5),f(n,T-1,5),f(n,D-4,4),o=0;o<D;o++)f(n,n.bl_tree[2*jt[o]+1],3);J(n,n.dyn_ltree,A-1),J(n,n.dyn_dtree,T-1)}function W(n){var A,T=4093624447;for(A=0;A<=31;A++,T>>>=1)if(1&T&&n.dyn_ltree[2*A]!==0)return P;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return V;for(A=32;A<mt;A++)if(n.dyn_ltree[2*A]!==0)return V;return P}function ct(n){Pt||(k(),Pt=!0),n.l_desc=new d(n.dyn_ltree,st),n.d_desc=new d(n.dyn_dtree,Rt),n.bl_desc=new d(n.bl_tree,Vt),n.bi_buf=0,n.bi_valid=0,E(n)}function q(n,A,T,D){f(n,(lt<<1)+(D?1:0),3),K(n,A,T,!0)}function $(n){f(n,et<<1,3),y(n,It,At),r(n)}function c(n,A,T,D){var o,b,e=0;n.level>0?(n.strm.data_type===ot&&(n.strm.data_type=W(n)),Y(n,n.l_desc),Y(n,n.d_desc),e=X(n),o=n.opt_len+3+7>>>3,b=n.static_len+3+7>>>3,b<=o&&(o=b)):o=b=T+5,T+4<=o&&A!==-1?q(n,A,T,D):n.strategy===M||b===o?(f(n,(et<<1)+(D?1:0),3),Q(n,At,Mt)):(f(n,(at<<1)+(D?1:0),3),R(n,n.l_desc.max_code+1,n.d_desc.max_code+1,e+1),Q(n,n.dyn_ltree,n.dyn_dtree)),E(n),D&&I(n)}function x(n,A,T){return n.pending_buf[n.d_buf+2*n.last_lit]=A>>>8&255,n.pending_buf[n.d_buf+2*n.last_lit+1]=255&A,n.pending_buf[n.l_buf+n.last_lit]=255&T,n.last_lit++,A===0?n.dyn_ltree[2*T]++:(n.matches++,A--,n.dyn_ltree[2*(G[T]+mt+1)]++,n.dyn_dtree[2*g(A)]++),n.last_lit===n.lit_bufsize-1}var C=z("../utils/common"),M=4,P=0,V=1,ot=2,lt=0,et=1,at=2,dt=3,ht=258,nt=29,mt=256,it=mt+1+nt,ft=30,pt=19,bt=2*it+1,ut=15,St=16,Ft=7,It=256,Et=16,Dt=17,_t=18,Nt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Xt=512,At=new Array(2*(it+2));_(At);var Mt=new Array(2*ft);_(Mt);var Ut=new Array(Xt);_(Ut);var G=new Array(ht-dt+1);_(G);var Ct=new Array(nt);_(Ct);var yt=new Array(ft);_(yt);var st,Rt,Vt,Pt=!1;m._tr_init=ct,m._tr_stored_block=q,m._tr_flush_block=c,m._tr_tally=x,m._tr_align=$},{"../utils/common":28}],40:[function(z,F,m){function _(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}F.exports=_},{}]},{},[10])(10)});const qt=z=>(le("data-v-21644589"),z=z(),he(),z),Se={id:"title"},Ee=de('<div id="map" class="map" data-v-21644589></div><br data-v-21644589><div data-v-21644589><a id="download" download data-v-21644589></a><button id="download-kmz" data-v-21644589>Download sample</button></div><br data-v-21644589><div id="info" data-v-21644589></div><p data-v-21644589>Example of using the drag-and-drop interaction with a custom format to handle KMZ files. In addition to the formats used in the <code data-v-21644589>drag-and-drop</code> example a custom format (subclassing KML) is used to handle KMZ files. KML and icons must be extracted from the KMZ array buffer synchronously. <code data-v-21644589>JSZip 2.x</code> is used as it has better browser compatibility and is simpler to code than the more recent <code data-v-21644589>JSZip-sync</code>. There is no projection transform support, so this will only work with data in EPSG:4326 and EPSG:3857.</p><h5 class="source-heading" data-v-21644589>html</h5>',7),Ce={class:"language-html"},Ae=qt(()=>Tt("h5",{class:"source-heading"},"css",-1)),Ie={class:"language-css"},Be=qt(()=>Tt("h5",{class:"source-heading"},"js",-1)),Oe={class:"language-js"},Te=qt(()=>Tt("h5",{class:"source-heading"},"package.json",-1)),De={class:"language-json"},Re={__name:"index",setup(z){return ie(()=>{const F=new JSZip;function m(v){let r;F.load(v);const s=F.file(/\.kml$/i)[0];return s&&(r=s.asText()),r}function _(v){const r=window.location.href.lastIndexOf("/");if(r!==-1){const s=F.file(v.slice(r+1));if(s)return URL.createObjectURL(new Blob([s.asArrayBuffer()]))}return v}class w extends $t{constructor(r){const s=r||{};s.iconUrlFunction=_,super(s)}getType(){return"arraybuffer"}readFeature(r,s){const a=m(r);return super.readFeature(a,s)}readFeatures(r,s){const a=m(r);return super.readFeatures(a,s)}}const d=new fe({formatConstructors:[w,ue,me,ce,$t,pe]}),g=new te({interactions:ee().extend([d]),layers:[new _e({source:new ge})],target:"map",view:new re({center:[0,0],zoom:2})});d.on("addfeatures",function(v){window.event=v;const r=new we({features:v.features});g.addLayer(new ve({source:r})),g.getView().fit(r.getExtent())});const p=function(v){const r=[];if(g.forEachFeatureAtPixel(v,function(s){r.push(s)}),r.length>0){const s=[];let a,k;for(a=0,k=r.length;a<k;++a){const E=r[a].get("description")||r[a].get("name")||r[a].get("_name")||r[a].get("layer");E&&s.push(E)}document.getElementById("info").innerHTML=s.join("<br/>")||"&nbsp"}else document.getElementById("info").innerHTML="&nbsp;"};g.on("pointermove",function(v){if(v.dragging)return;const r=g.getEventPixel(v.originalEvent);p(r)}),g.on("click",function(v){p(v.pixel)});const f=document.getElementById("download");function y(v,r){fetch(v).then(function(s){return s.blob()}).then(function(s){f.href=URL.createObjectURL(s),f.download=r,f.click()})}document.getElementById("download-kmz").addEventListener("click",function(){y("https://openlayers.org/en/latest/examples/data/kmz/iceland.kmz","iceland.kmz")}),Prism.highlightAll()}),(F,m)=>(se(),oe(ae,null,[Tt("h4",Se,Gt(Yt(ye)),1),Ee,Tt("pre",null,[Tt("code",Ce,Gt("  "+Yt(be).trim()),1)]),Ae,Tt("pre",null,[Tt("code",Ie,Gt("  "+Yt(ke).trim()),1)]),Be,Tt("pre",null,[Tt("code",Oe,Gt("  "+Yt(xe).trim()),1)]),Te,Tt("pre",null,[Tt("code",De,Gt("  "+Yt(ze).trim()),1)])],64))}},nr=ne(Re,[["__scopeId","data-v-21644589"]]);export{nr as default};
